#+hugo_base_dir: ~/workspace/hugoBlog
#+hugo_section: post
#+hugo_auto_set_lastmod: t
#+hugo_custom_front_matter: :author "geezer"
#+hugo_code_fence: nil
#+STARTUP: logdrawer

* Blog Ideas
** DONE emacslisp
CLOSED: [2022-11-18 äº” 22:28]
:PROPERTIES:
:EXPORT_FILE_NAME: emacslisp
:END:
:LOGBOOK:
- State "DONE"       from "TODO"       [2022-11-18 äº” 22:28]
:END:
*** emacs tutorial
*** emacs init
*** emacs keys
  ä»‹ç»ä¸€äº›emacsçš„å¿«æ·é”®,ä»¥åŠå¦‚ä½•å®šä¹‰å¿«æ·é”®
**** å®šä¹‰å¿«æ·é”®
- å®šä¹‰å…¨å±€å¿«æ·é”®
  å°†crtl-bç»‘å®šåˆ°whitespace-modeä¸Š
  #+begin_src emacs-lisp
    (global-set-key (kbd "C-b") 'whitespace-mode)
  #+end_src
- å®šä¹‰å±€éƒ¨å¿«æ·é”®
  å±€éƒ¨å¿«æ·é”®åªå¯¹å½“å‰bufferæœ‰æ•ˆ,ä¸€æ—¦ç¦»å¼€å½“å‰bufferåˆ™ä¼šå¤±æ•ˆ
  #+begin_src emacs-lisp
    (local-set-key (kbd "C-b") 'whitespace-mode)
  #+end_src
- å–æ¶ˆæŸä¸ªå¿«æ·é”®
  #+begin_src emacs-lisp
    (global-set-key (kbd "C-b") nil)
  #+end_src
**** å®šä¹‰å¿«æ·é”®çš„è¯­æ³•
- å•ä¸ªä¿®é¥°é”®å’Œå•ä¸ªç‰¹æ®Šé”®
  #+begin_src emacs-lisp
    (global-set-key (kbd "M-a") 'backward-char) ; Alt+a
    (global-set-key (kbd "C-a") 'backward-char) ; Ctrl+a
    (global-set-key (kbd "<f3>")  'backward-char) ; F3 key
  #+end_src
- å®šä¹‰å¸¦å‰ç¼€çš„å¿«æ·é”®
  å½“å®šä¹‰æŸä¸ªå¸¦å‰ç¼€çš„å¿«æ·é”®æ—¶éœ€è¦å…ˆå–æ¶ˆå‰ç¼€å¿«æ·é”®çš„ç»‘å®š.
  #+begin_src emacs-lisp
    (global-set-key (kbd "<f7>") nil) ; good idea to put nil to the starting key
    (global-set-key (kbd "<f7> <f8>") 'calendar)

    (global-set-key (kbd "C-e") nil) ; good idea to put nil to the starting key
    (global-set-key (kbd "C-e a") 'calendar) ; Ctrl+e a
    (global-set-key (kbd "C-e SPC") 'calendar) ; Ctrl+e Space
  #+end_src
**** åœ¨major-modeä¸­æ·»åŠ å¿«æ·é”®
- æ™®é€šæ–¹æ³•
   è¦åœ¨æŸä¸ªmajor-modeä¸Šæ·»åŠ å¿«æ·é”®ä½¿å…¶åªä½œç”¨äºè¯¥major-mode,
   å…¶ä¸»è¦åŸç†æ˜¯åœ¨è¯¥major-modeä¸Šæ·»åŠ hook,ä½¿å¾—åœ¨å¼€å¯è¯¥major-mode
   åè°ƒç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„å‡½æ•°,è€Œè‡ªå®šä¹‰çš„å‡½æ•°ä¸­æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªå±€éƒ¨å¿«æ·é”®
   è¿™æ ·å°±å¯ä»¥æ—¶çš„è¯¥å¿«æ·é”®åªå¯¹è¯¥major-modeæœ‰æ•ˆ
   #+begin_src emacs-lisp
     (when (fboundp 'go-mode)
       (defun my-go-config ()
         "ä¸ºgo-modeæ·»åŠ å¿«æ·é”®"
         (local-set-key (kbd "C-b") 'gocf)
         ;;å…¶ä»–é…ç½®)
       (add-hook 'go-mode-hook 'my-go-config))
   #+end_src
- ç›´æ¥ä¿®æ”¹modeçš„é”®ä½æ˜ å°„
  å¦‚æœæˆ‘ä»¬çŸ¥é“æŸä¸ªmajor-modeçš„é”®ä½æ˜ å°„å˜é‡å,åˆ™å¯ä»¥ç›´æ¥é€šè¿‡å˜é‡åä¿®æ”¹
  #+begin_src emacs-lisp
  (progn
  ;; modify dired keys
    (require 'dired )
    (define-key dired-mode-map (kbd "o") 'other-window)
    (define-key dired-mode-map (kbd "2") 'delete-window)
    (define-key dired-mode-map (kbd "3") 'delete-other-windows)
    (define-key dired-mode-map (kbd "4") 'split-window-below)
    (define-key dired-mode-map (kbd "C-o") 'find-file))
  #+end_src
**** åœ¨minor-modeä¸­æ·»åŠ å¿«æ·é”®
   minor-modeçš„é”®ä½æ˜ å°„å˜é‡å,ä¸€èˆ¬éƒ½æ˜¯'minor-modeå-mode-map',æ‰€ä»¥è¦ä¸ºæŸä¸ª
   minor-modeæ·»åŠ å¿«æ·é”®å¯ä»¥
   #+begin_src emacs-lisp
  (progn
  ;; change isearch's keys to arrows
  (define-key isearch-mode-map (kbd "<up>") 'isearch-ring-retreat )
  (define-key isearch-mode-map (kbd "<down>") 'isearch-ring-advance )

  (define-key isearch-mode-map (kbd "<left>") 'isearch-repeat-backward)
  (define-key isearch-mode-map (kbd "<right>") 'isearch-repeat-forward)
  )
   #+end_src
**** minor-modeçš„å¿«æ·é”®ä¼˜å…ˆçº§
   minor-modeçš„å¿«æ·é”®ä¼˜å…ˆçº§å­˜æ”¾åœ¨ *minor-mode-map-alist*
   å®ƒæ˜¯ä¸€ä¸ªå…³è”åˆ—è¡¨,å¯é€šè¿‡ä¿®æ”¹è¯¥å˜é‡æ¥ä¿®æ”¹minor-modeä¼˜å…ˆçº§
**** å®šä¹‰å¿«æ·é”®å‰ç¼€
#+begin_src elisp
  ;;å®šä¹‰å¿«æ·é”®å‰ç¼€å‘½ä»¤
  (define-prefix-command 'geezer-prefix)
  ;;å°†ä»¥ä¸Šå‘½ä»¤ç»‘å®šåˆ°æŸä¸ªå¿«æ·é”®ä¸Š
  (global-set-keys (kbd "C-z") 'geezer-prefix)
  ;;ç»è¿‡ä»¥ä¸Šä¸¤æ­¥å°±å¯ä»¥æ˜¯çš„'C-z'æˆä¸ºä¸€ä¸ªå‰ç¼€æŒ‰é”®
  ;;ä¹‹ååªéœ€è¦åœ¨è¯¥å‰ç¼€æŒ‰é”®æ·»åŠ å³å¯
  (define-key my-keymap (kbd "<f6>") 'visual-line-mode)
#+end_src
**** åŒä¸€ä¸ªå‘½ä»¤åœ¨ä¸åŒmajor-modeçš„ä¸åŒä½œç”¨
   è¦æ˜¯åŒä¸€ä¸ªå‘½ä»¤åœ¨ä¸åŒmajor-modeä¸­çš„ä½œç”¨ä¸åŒ,æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å°è£…è¯¥å‘½ä»¤,
   å†åœ¨å‘½ä»¤ä¸­åˆ¤æ–­å½“å‰major-mode
   å‡è®¾æˆ‘ä»¬åœ¨x1-modeæ—¶æ‰§è¡Œè¯¥å‘½ä»¤ä¼šè°ƒç”¨x1-cmd
   åœ¨x2-modeæ—¶,ä¸ºx2-cmd
   #+begin_src elisp
     ;;å®šä¹‰x1-cmdå‡½æ•°å’Œx2-cmdå‡½æ•°
     (defun x1-cmd () ())
     (defun x2-cmd () ())

     (defun geezer-smart-cmd ()
       (interactive)
       (cond
        ((string-equal major-mode "x1-mode") (x1-cmd))
        ((string-equal major-mode "x2-mode") (x2-cmd))
        (t nil)
       ))
   #+end_src
**** å®šä¹‰å¯ä¸´æ—¶é‡å¤ä½¿ç”¨çš„å¿«æ·é”®
   åœ¨emacsæœ‰è¿™æ ·çš„æ“ä½œ,è°ƒç”¨æŸä¸ªå‘½ä»¤åå°±å¯ä»¥é‡å¤æŒ‰ä½æŒ‡å®šé”®æ¥é‡å¤æ‰§è¡Œè¯¥å‘½ä»¤,è€Œä¸”è¿™ä¸ªæ“ä½œ
   æ˜¯å¯ä»¥ä¸­æ–­çš„,ä¸­æ–­åä¹‹å‰çš„æŒ‰é”®å°±ä¼šå¤±æ•ˆ.è¿™å°±å¥½æ¯”åœ¨æµè§ˆå™¨ä¸­æˆ‘ä»¬å¯ä»¥æŒ‰ä½ctrlé”®,ç„¶åæ»šåŠ¨
   é¼ æ ‡å°±èƒ½å®ç°æ”¾å¤§ç¼©å°,è€Œæ¾å¼€ctrlé”®åå°±æ²¡æœ‰è¿™ç§æ•ˆæœäº†.
   åœ¨emacsä¹Ÿæœ‰è¿™æ ·çš„æ“ä½œ,æ¯”å¦‚ *text-scale-adjust* è°ƒç”¨è¯¥å‘½ä»¤å,å…è®¸æŒ‰ *+* é”®æ”¾å¤§,æŒ‰ *-*
   é”®ç¼©å°ç­‰æ“ä½œ,è€Œç»“æŸè¯¥å‘½ä»¤åå°±ä¼šå¤±å»è¯¥æ•ˆæœ
   ä¸‹é¢æˆ‘ä»¬æ¥å®ç°ä¸‹è¿™ä¸ªæ“ä½œ
   #+begin_src elisp
     (defun geezer-forward-word ()
       "ç§»åŠ¨å…‰æ ‡"
       (interactive)
       (progn
         (forward-char)
         (set-transient-map
          (let (($kmap (make-sparse-keymap)))
            (define-key $kmap (kbd "r") 'geezer-forward-word)
            (define-key $kmap (kbd "l") 'geezer-backward-word)
            $kmap
            )
          )
         )
       )
     (defun geezer-backward-word ()
       "ç§»åŠ¨å…‰æ ‡"
       (interactive)
       (progn
         (forward-char)
         (set-transient-map
          (let (($kmap (make-sparse-keymap)))
            (define-key $kmap (kbd "r") 'geezer-forward-word)
            (define-key $kmap (kbd "l") 'geezer-backward-word)
            $kmap
            )
          )
         )
       )
   #+end_src
   ä»¥ä¸Šä»£ç ä¸­ *set-transient-map* æ¥å—ä¸€ä¸ªkeymap,å¹¶ä¸”ä½¿ç”¨è¯¥keymapä¸€æ¬¡,å¹¶ä¸”è¯¥keymapçš„
   ä¼˜å…ˆçº§ä¼šé«˜äºå…¶ä»–çš„minor-mode
   è€Œletä¸­çš„ä»£ç ,åˆ™è¿”å›ä¸€ä¸ª keymap,ä½¿ç”¨è¯¥keymapåæŒ‰ræˆ–è€…léƒ½ä¼šæ‰§è¡Œä¸€ä¸ªé€’å½’å‡½æ•°
   ä»¥æ­¤å®ç°é‡å¤è°ƒç”¨,è¿™æ ·åœ¨è°ƒç”¨è¯¥å‡½æ•°å,å¯ä»¥é‡å¤ä½¿ç”¨rå’Œlå®ç°å¯¹åº”çš„æ“ä½œ.æŒ‰C-gå¯ç»“æŸ
   ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªé”®ä½ç»“æŸ,ç»“æŸårå’Œlçš„åŠŸèƒ½ä¼šè¿˜åŸ,
**** åœ¨emacsä¸­è¾“å…¥è¡¨æƒ…,åŠå…¶ä»–unicodeç¬¦å·
   *key-translation-map* æ˜¯emacsè‡ªå¸¦çš„ä¸€ä¸ªkeymap,åœ¨ä»»ä½•bufferéƒ½æœ‰æ•ˆ
   æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‘é‡Œé¢æ·»åŠ mapå®ç°è¾“å…¥è¡¨æƒ…çš„æ•ˆæœ
   #+begin_src elisp
     (define-key key-translation-map (kbd "<f8>") (kbd "â€¢"))
          ;; set keys to insert math symbol
     (define-key key-translation-map (kbd "<f9> p") (kbd "Ï†"))
     (define-key key-translation-map (kbd "<f9> x") (kbd "Î¾"))
     (define-key key-translation-map (kbd "<f9> i") (kbd "âˆ"))
     (define-key key-translation-map (kbd "<f9> <right>") (kbd "â†’"))

     ;; set keys to insert emoji
     (define-key key-translation-map (kbd "<f9> 1") (kbd "ğŸ˜…"))
     (define-key key-translation-map (kbd "<f9> 2") (kbd "â¤"))
   #+end_src
   è¿™é‡Œä¸æ¨èä½¿ç”¨ *global-set-key* çš„æ–¹å¼,å°±åƒä¸‹é¢è¿™ç§
   #+begin_src elisp
     (global-set-key (kbd "<f8>") (lambda () (interactive) (insert "â†’")))
   #+end_src
   è¿™ç§æ–¹æ³•çš„ç¡®å¯è¡Œ,ä½†åœ¨ä½¿ç”¨isearchæ—¶ä¼šå¤±æ•ˆ
**** äº¤æ¢é”®ç›˜æŒ‰é”®
äº¤æ¢f11å’Œf12
#+begin_src emacs-lisp
    (define-key key-translation-map (kbd "<f11>") (kbd "<f12>"))
    (define-key key-translation-map (kbd "<f12>") (kbd "<f11>"))
#+end_src
**** é¼ æ ‡æ“ä½œ
- å–æ¶ˆé¼ æ ‡çš„åŠ é€Ÿ
  #+begin_src elisp
    (setq mouse-wheel-progressive-speed nil)
  #+end_src
- æ§åˆ¶é¼ æ ‡æ¯æ¬¡ç§»åŠ¨çš„è¡Œæ•°
  æ˜¯é¼ æ ‡æ¯æ¬¡èƒ½å¤Ÿç§»åŠ¨ä¸¤è¡Œ
  #+begin_src elisp
    (setq mouse-wheel-scroll-amount '(2))
  #+end_src
- å–æ¶ˆé¼ æ ‡é«˜äº®
  #+begin_src elisp
    (setq mouse-highlight nil)
  #+end_src
***** é¼ æ ‡çš„è¯­æ³•
| é¼ æ ‡æŒ‰é”®              | elispè¡¨ç¤º            |
|-----------------------+----------------------|
| é¼ æ ‡å·¦é”®              | (kbd "<mouse-1>")    |
| é¼ æ ‡æ»šè½®é”®            | (kbd "<mouse-2>")    |
| é¼ æ ‡å³é”®              | (kbd "<mouse-3>")    |
| é¼ æ ‡æ»šè½®å‘å‰(linux)   | (kbd "<mouse-4>")    |
| é¼ æ ‡æ»šè½®å‘å(linux)   | (kbd "<mouse-5>")    |
| é¼ æ ‡æ»šè½®å‘å‰(mac,win) | (kbd "<wheel-up>")   |
| é¼ æ ‡æ»šè½®å‘å(mac,win) | (kbd "<wheel-down>") |
*** lisp basics
**** åŸºç¡€
- è¾“å‡ºå‡½æ•°print
  æ ¼å¼:(print OBJECT &optional PRINTCHARFUN)
  printæ¥å—ä¸€ä¸ªè¾“å‡ºå¯¹è±¡å’Œä¸€ä¸ªè¾“å‡ºçš„ç›®æ ‡buffer
  objectå³ä¸ºè¾“å‡ºå¯¹è±¡,printcharfunå³è¾“å‡ºçš„ç›®æ ‡buffer
  #+begin_src elisp
  (progn
    (setq gbuffer (generate-new-buffer "*my output*"))
    (print "fasdfs" gbuffer)
    (switch-to-buffer gbuffer))
  #+end_src
- unicodeå­—ç¬¦è¡¨ç¤º
  *\uxxxx* :æ¥å—å››ä¸ª16è¿›åˆ¶æ•°
  *\u00xxxxxx* :æ¥å—å…­ä¸ª16è¿›åˆ¶æ•°
- å¤„ç†å­—ç¬¦ä¸²çš„å‡½æ•°
  | å‡½æ•°             | ç¤ºä¾‹                            | ä½œç”¨                        | ç»“æœ               |
  |------------------+---------------------------------+-----------------------------+--------------------|
  | length           | (length "abc")                  | è·å¾—"abc"é•¿åº¦               | 3                  |
  | substring        | (substring "abc123" 0 3)        | æˆªå–å­—ç¬¦ä¸²0-3ä¹‹é—´çš„å­å­—ç¬¦ä¸² | abc                |
  | concat           | (concat "some" "thing")         | å­—ç¬¦ä¸²æ‹¼æ¥                  | something          |
  | split-string     | (split-string "xy_007_cat" "_") | ä»¥'_'æˆªå–å­—ç¬¦ä¸²             | ("xy","007","cat") |
  | string-to-number |                                 | å­—ç¬¦ä¸²è½¬æ•°å­—                |                    |
  | number-to-string |                                 | æ•°å­—è½¬å­—ç¬¦                  |                    |
- ç›¸ç­‰åˆ¤æ–­
  equal:åˆ¤æ–­æ•°æ®ç±»å‹å’Œå€¼æ˜¯å¦ç›¸åŒ
  eq:åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡
  eql:ä¸eqå¾ˆåƒä½†ä¸¤ä¸ªç›¸åŒçš„æµ®ç‚¹æ•°ä¼šè¿”å›t
**** æ•°æ®ç±»å‹
- mapcar
  (mapcar FUNCTION SEQUENCE)
  ä¼šè¿”å›å¤„ç†åçš„ç»“æœ
- mapc
  ä¸mapcarä¸€æ ·ä½†ä¸ä¼šè¿”å›ç»“æœ,è€Œè¿”å›nil

*** practical emacs lisp
**** æ¦‚è¿°
***** å…‰æ ‡ä½ç½®
| å‡½æ•°                    | ä½œç”¨                                               |
|-------------------------+----------------------------------------------------|
| point                   | è¿”å›å½“å‰å…‰æ ‡ä½ç½®,å…¶å€¼ä¸ºå‰é¢å­—ç¬¦ä¸ªæ•°,åŒ…æ‹¬ç©ºæ ¼å’Œå›è½¦ |
| region-beginning        | è¿”å›é€‰ä¸­åŒºåŸŸçš„å¼€å¤´å­—ç¬¦ä½ç½®                         |
| region-end              | è¿”å›é€‰ä¸­åŒºåŸŸçš„ç»“å°¾å­—ç¬¦ä½ç½®                         |
| line-beginning-position | è¿”å›è¡Œé¦–å­—ç¬¦ä½ç½®                                   |
| line-end-position       | è¿”å›è¡Œä¸ºå­—ç¬¦ä½ç½®                                   |
| point-min               | è¿”å›æ•´ä¸ªæ–‡ä»¶å¼€å¤´ä½ç½®                               |
| point-max               | è¿”å›æ•´ä¸ªæ–‡ä»¶ç»“å°¾ä½ç½®                               |
***** å…‰æ ‡ç§»åŠ¨å’Œæ–‡æœ¬æœç´¢
#+begin_src emacs-lisp
  ;;è·³è½¬åˆ°39å­—ç¬¦çš„ä½ç½®
   (goto-char 39)
  ;;ä½¿å…‰æ ‡å‰ç§»å’Œåç§»å››ä¸ªå­—ç¬¦
  (forward-char 4)
  (backward-char 4)
  ;;å‘å‰æœ"some"å’Œå‘åæœç´¢"some"
  (search-forward "some") ; to end of â€œsomeâ€
  (search-backward "some") ; to beginning of â€œsomeâ€
  ;;å‘å‰æœç´¢æ•°å­—å’Œå‘åæœç´¢æ•°å­—
  (re-search-forward "[0-9]") ; digit
  (re-search-backward "[0-9]")
  ;;å°†å…‰æ ‡å‰ç§»å’Œå°†å…‰æ ‡åç§»,çŸ¥é“æ‰¾åˆ°éå°å†™å­—æ¯
  (skip-chars-forward "a-z")
  (skip-chars-backward "a-z")
#+end_src
***** ä¿®æ”¹æ–‡æœ¬
#+begin_src emacs-lisp
  ;;ä»å…‰æ ‡å¼€å§‹åˆ é™¤9ä¸ªå­—ç¬¦
  (delete-char 9)
  ;;åˆ é™¤3-10ä½ç½®çš„å­—ç¬¦
  (delete-region 3 10)
  ;;åœ¨å½“å‰å…‰æ ‡å¤„æ’å…¥å­—ç¬¦ä¸²
  (insert "i â™¥ cats")
  ;;è·å–å½“å‰buffer71-300çš„å­—ç¬¦ä¸²,å¹¶èµ‹å€¼ç»™x
  (setq x (buffer-substring 71 300))

  ;;å°†7-300å¤„çš„å­—æ¯è½¬ä¸ºå¤§å†™
  (capitalize-region 71 300)
#+end_src
***** bufferæ“ä½œ
#+begin_src emacs-lisp
  ;;è·å–bufferåç§°
  (buffer-name)

  ;;è¿”å›å½“å‰bufferæ–‡ä»¶çš„ç»å¯¹è·¯å¾„
  (buffer-file-name)

  ;; switch to the buffer named xyz
  (switch-to-buffer "xyz")

  ;;ä¿å­˜å½“å‰buffer
  (save-buffer)

  ;; å…³é—­åä¸º"xyz"çš„buffer
  (kill-buffer "xyz")

  ;;ä¸´æ—¶å°†"xyz"bufferä½œä¸ºå½“å‰buffer,å‡½æ•°ç»“æŸåå°†è¿”å›ä¹‹å‰æ“ä½œçš„buffer
  (with-current-buffer "practical-elisp.el"
    ;;è¿™é‡Œå¯ä»¥å†™ä¸€äº›æ’å…¥åˆ é™¤ç­‰æ“ä½œ
  )
#+end_src
***** æ–‡ä»¶æ“ä½œ
- åŸºæœ¬æ“ä½œ
  #+begin_src emacs-lisp
    ;; open a file (in a buffer)
  (find-file "~/")

  ;; same as â€œSave Asâ€.
  (write-file path)

  ;; insert file into current position
  (insert-file-contents path)

  ;; append a text block to file
  (append-to-file start-pos end-pos path)

  ;; renaming file
  (rename-file file-name new-name)

  ;; copying file
  (copy-file old-name new-name)

  ;; deleting file
  (delete-file file-name)

  ;; get dir path
  (file-name-directory  full-path)

  ;; get filename part
  (file-name-nondirectory full-path)

  ;; get filename's suffix
  (file-name-extension file-name)

  ;; get filename sans suffix
  (file-name-sans-extension file-name)
  #+end_src
- narrowæ“ä½œ
  narrowæ“ä½œå¯ä»¥ä½¿æ–‡ä»¶åªæœ‰æŒ‡å®šçš„éƒ¨åˆ†å¯è§,è€Œå…¶ä½™éƒ¨åˆ†ä¸å¯è§,é™¤æ­¤ä»¥å¤–å®ƒçš„æ•ˆæœä¸
  åˆ é™¤æ•ˆæœå‡ ä¹ç›¸åŒ,å®ƒä¼šå¯¹å…‰æ ‡è¡Œæ•°ç­‰äº§ç”Ÿå½±å“.å¯ä»¥è°ƒç”¨"widen"æŠŠåˆšæ‰éšè—çš„éƒ¨åˆ†æ˜¾ç¤ºå‡ºæ¥
  | å‡½æ•°             | ä½œç”¨                                      |
  |------------------+-------------------------------------------|
  | narrow-to-defun  | ä»…æ˜¾ç¤ºå½“å‰å…‰æ ‡æ‰€åœ¨çš„å‡½æ•°                  |
  | narrow-to-page   | ä»…æ˜¾ç¤ºå½“å‰é¡µé¢ä¸­å¯è§çš„å†…å®¹                |
  | narrow-to-region | ä»…æ˜¾ç¤ºæŒ‡å®šä½ç½®çš„å†…å®¹                      |
  | widen            | æ˜¾ç¤ºéšè—éƒ¨åˆ†çš„å†…å®¹                        |
  | buffer-narrow-p  | åˆ¤æ–­å½“å‰bufferæ˜¯å¦æœ‰éšè—å†…å®¹              |
  | save-excursion   | ä¿å­˜å½“å‰å…‰æ ‡ä½ç½®,æ‰§è¡Œå®Œbodyé‡Œçš„å†…å®¹åè¿”å› |
  | save-restriction | ä¿å­˜å½“å‰ç¼“å†²åŒº,æ‰§è¡Œå®Œbodyé‡Œçš„å†…å®¹åè¿”å›é€šå¸¸ä¸narrowä¸€èµ·ä½¿ç”¨    |
***** æ¡ˆä¾‹
- æ›¿æ¢é€‰ä¸­åŒºåŸŸçš„æ–‡æœ¬
  #+begin_src emacs-lisp
 (defun geezer-replace-greek-region ()
  (interactive)
  (let ((start (region-beginning))
        (end (region-end)))
    (save-restriction
      (narrow-to-region start end)
      (goto-char (point-min))
      (while (search-forward "a" nil t)
        (replace-match "A" nil t))
      (goto-char (point-min))
      (while (search-forward "b" nil t)
        (replace-match "B" nil t)))))
  #+end_src
- åˆ é™¤æ‹¬å·ä¸­çš„å†…å®¹
  #+begin_src emacs-lisp
 (defun geezer-delete-pair ()
  (interactive)
  (save-excursion
    (let (p1 p2)
      (skip-chars-backward "^([{<>")
      (setq p1 (point))
      (skip-chars-forward "^)]}<>")
      (setq p2 (point))
      (delete-region p1 p2))))
  #+end_src
***** defunä¸­çš„interactiveçš„ä½œç”¨
å®šä¹‰å‡½æ•°æ—¶interactiveçš„ä½œç”¨æœ‰ä¸¤ä¸ª
1. æ˜¯å‡½æ•°å¯ä»¥ä»¥å‘½ä»¤çš„å½¢å¼è°ƒç”¨,åŠé€šè¿‡M-xçš„æ–¹å¼
2. åœ¨interactiveååŠ ä¸Šå‚æ•°å¯ä»¥æ˜¯è°ƒç”¨è¯¥å‡½æ•°æ—¶å®ç°äº¤äº’å¼ä¼ å‚
****** å‚æ•°è¯´æ˜
- (ineractive)
  å¯ä»¥ç”¨å‘½ä»¤è°ƒç”¨
- (ineractive string)
  stringç¬¬ä¸€ä¸ªå­—ç¬¦æŒ‡å®šè¾“å…¥çš„å†…å®¹,ä¾‹å¦‚ä¸ºsåˆ™è¡¨ç¤ºä¸ºè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²,ä¸ºnåˆ™è¡¨ç¤ºæ•°å­—ç­‰,
  è‹¥è¦ä»äº¤äº’ç•Œé¢è·å–å¤šä¸ªå‚æ•°å¯ä»¥ç”¨å›è½¦éš”å¼€
  #+begin_src emacs-lisp
    (defun ask-name-and-age (x y)
  "Ask name and age"
  (interactive
   "sEnter name
    nEnter age:")
  (message "Name is: %s, Age is: %d" x y))
  #+end_src
- (ineractive list)
  è¿™ç§æ–¹å¼æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§æ–¹å¼,listä¸­å¯ä»¥æ˜¯ä»»ä½•è¡¨è¾¾å¼,åªè¦èƒ½å¤Ÿè¿”å›å¯¹åº”å‚æ•°ä¸ªæ•°çš„listå³å¯
  #+begin_src emacs-lisp
      (defun ask-name-and-age2 (x y)
    "Ask name and age"
    (interactive
     (list
      (read-string "Enter
    name:")
      (read-number "Enter age:")))
    (message "Name is: %s, Age is: %d" x y))
  #+end_src
****** thing-at-point
å‡½æ•°è°ƒç”¨:(thing-at-point THING &optional NO-PROPERTIES)
å½“æˆ‘ä»¬ç”¨interactiveè¿›è¡Œäº¤äº’æ—¶,ä½¿ç”¨ *thing-at-point* æ˜¯éå¸¸æ–¹ä¾¿çš„,
ä¾‹å¦‚,æˆ‘ä»¬åœ¨å¯»æ±‚å¸®åŠ©æ—¶,ä½¿ç”¨çš„describe-function,describe-variable(å¯¹åº”å¿«æ·é”®C-h f,C-h k)æ—¶,
å°±ä¼šè·å–å½“å‰å…‰æ ‡å¤„çš„å‡½æ•°æˆ–å˜é‡,ä½¿å¾—æˆ‘ä»¬åœ¨è°ƒç”¨ä¸Šé¢ä¸¤ä¸ªå‘½ä»¤æ—¶,å¦‚æœæˆ‘ä»¬ä¸åšè¾“å…¥,å®ƒä¼šé»˜è®¤é€‰æ‹©å…‰æ ‡å¤„çš„å‡½æ•°æˆ–å˜é‡
thing-at-pointä¸ä»…å¯ä»¥è·å–å½“å‰å…‰æ ‡å¤„çš„å‡½æ•°å’Œå˜é‡,åŒæ—¶ä¹Ÿå¯ä»¥è·å–å…‰æ ‡å¤„çš„
'symbol, 'list, 'sexp, 'defun, 'filename, 'url, 'email, 'uuid, 'word, 'sentence, 'whitespace, 'line, 'number, 'page.
åªéœ€è¦å°† *thing-at-point* çš„ç¬¬äºŒä¸ªå‚æ•°è®¾ä¸ºä¸Šé¢è¿™äº›å€¼å³å¯
#+begin_src emacs-lisp
  (defun test ()
    "è·å–å•è¯"
    (interactive)
    (message "%s" (thing-at-point 'word)))
#+end_src
****** bounds-of-thing-at-point
è·å–thing-at-pointçš„è¾¹ç•Œ,è¿”å›çš„æ˜¯ä¸€ä¸ªcons,å…¶ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºè¾¹ç•Œçš„å¼€å§‹çš„ä½ç½®,ç¬¬äºŒä¸ªå…ƒç´ ä¸ºè¾¹ç•Œç»“æŸçš„ä½ç½®
#+begin_src emacs-lisp
  (defun test ()
    (interactive)
    (let (bounds pos1 pos2 mything)
      (setq bounds (bounds-of-thing-at-point 'symbol))
      (setq pos1 (car bounds))
      (setq pos2 (cdr bounds))
      (setq mything (buffer-substring-no-properties pos1 pos2))
      (message
       "thing begin at [%s],end at [%s],thing is [%s]"
       pos1 pos2 mything))
#+end_src
***** æŸ¥æ‰¾æ›¿æ¢
- search-forwardå’Œsearch-backward.
  (search-forward STRING &optional BOUND NOERROR COUNT)
  å°†å…³é—­ç§»åŠ¨åˆ°è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²å¼€å§‹ä½ç½®,
- re-search-forwardå’Œre-search-backward
  (re-search-forward REGEXP &optional BOUND NOERROR COUNT)
  ä¸ä¸Šé¢å‡½æ•°åŠŸèƒ½ä¸€æ ·,ä¸è¿‡åŒ¹é…çš„æ˜¯æ­£åˆ™è¡¨è¾¾å¼,è€Œéå­—ç¬¦ä¸²
- search-forward-regexpå’Œsearch-backward-regexp
  åˆ†åˆ«æ˜¯re-search-forwardå’Œre-search-backwardçš„åˆ«å
- case-fold-searchå˜é‡
  å…¶å€¼é»˜è®¤ä¸ºt,è¡¨ç¤ºæŸ¥æ‰¾æ˜¯å¿½ç•¥å¤§å°å†™
  ä¸ºnilæ—¶,è¡¨ç¤ºä¸å¿½ç•¥å¤§å°å†™
**** elispè„šæœ¬
***** è¿è¡Œelispè„šæœ¬
elispå¯ä»¥è¿è¡Œåœ¨ç»ˆç«¯,æ¯”å¦‚
#+begin_src shell
  emacs --script  /path/to/elisp-file
#+end_src

***** bufferç›¸å…³å‡½æ•°
- buffer-name
  (buffer-name &optional BUFFER)
  è·å–å½“å‰bufferåå­—
- buffer-file-name
  (buffer-file-name &optional BUFFER)
  è¿”å›å½“å‰bufferå¤„æ–‡ä»¶çš„ç»å¯¹è·¯å¾„,å¦‚æœä¸å­˜åœ¨åˆ™è¿”å›nil
- with-current-buffer
  (with-current-buffer BUFFER-OR-NAME &rest BODY)
  å°†æŸä¸ªç¼“å†²åŒºä½œä¸ºä¸´æ—¶çš„ç¼“å†²åŒº,æ‰§è¡Œå®Œbodyé‡Œçš„å†…å®¹åè¿”å›
- set-buffer
  (set-buffer BUFFER-OR-NAME)
  è·³è½¬åˆ°æŒ‡å®šbuffer,ä½†è¯¥bufferä¸å¯è§,å¦‚æœéœ€è¦å¯è§å¯ä½¿ç”¨switch-to-buffer
- generate-new-buffer
  (generate-new-buffer NAME)
  æ–°å»ºä¸€ä¸ªbuffer
- get-buffer-create
  (get-buffer-create BUFFER-OR-NAME)
  æ–°å»ºä¸€ä¸ªbuffer,ä½†ä¸å°†å…¶ä½œä¸ºå½“å‰buffer
- kill-buffer
  (kill-buffer &optional BUFFER-OR-NAME)
  å…³é—­æŒ‡å®šbuffer
***** æ–‡ä»¶ç›¸å…³å‡½æ•°
- directory-files
  è¿”å›ä¸€ä¸ªå¸¦æœ‰è¯¥ç›®å½•ä¸‹æ‰€æœ‰æŒ‡å®šæ–‡ä»¶çš„list
  ä¸ä¼šé€’å½’æŸ¥æ‰¾,å³å¦‚æœè¯¥ç›®å½•ä¸‹æœ‰å­ç›®å½•ä¸ä¼šå¯¹å­ç›®å½•è¿›è¡ŒæŸ¥æ‰¾
  (directory-files DIRECTORY &optional FULL MATCH NOSORT)
  å‚æ•°1:ç›®å½•è·¯å¾„
  å‚æ•°2:è¿”å›çš„æ–‡ä»¶æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„
  å‚æ•°3:æ–‡ä»¶åŒ¹é…çš„æ–¹å¼
  å‚æ•°4:æ˜¯å¦æ’åº
- directory-files-recursively
  é€’å½’æŸ¥æ‰¾æŒ‡å®šæ–‡ä»¶,åè¿”å›ä¸€ä¸ªå¸¦æœ‰æ‰€æœ‰æŒ‡å®šæ–‡ä»¶çš„list
  ä¼šé€’å½’æŸ¥æ‰¾,å³å¦‚æœè¯¥ç›®å½•ä¸‹æœ‰å­ç›®å½•ä¼šå¯¹å­ç›®å½•è¿›è¡ŒæŸ¥æ‰¾
  ç”±äºä¼šé€’å½’æŸ¥æ‰¾æ‰€ä»¥ä¼šè¿”å›æ–‡ä»¶çš„ç›¸å¯¹è·¯è¿‘,è€Œéåªå«æ–‡ä»¶å
  (directory-files-recursively DIR REGEXP &optional INCLUDE-DIRECTORIES)

*** elisp example
*** emacs write major-mode
**** font lock mode
å®ƒæ˜¯emacså†…ç½®çš„ä¸€ä¸ªminor-mode,å®ƒä¸å½“å‰bufferçš„è¯­æ³•é«˜äº®æœ‰å…³,å…¶é«˜äº®è§„åˆ™é€šè¿‡ä¸¤ç§æ–¹å¼å®ç°
1. Syntactic fontification
   ä¸€äº›ä¸æ³¨é‡Šå­—ç¬¦ä¸²,ç¬¦å·ç›¸å…³çš„æ³¨é‡Š,å®ƒçš„æ³¨é‡Šå†…å®¹å­˜æ”¾åœ¨,Syntax Tableä¸­,å¯é€šè¿‡describe-syntaxå‘½ä»¤æŸ¥çœ‹
2. Search based fontification
   ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾ç›¸å…³å†…å®¹è¿›è¡Œé«˜äº®,é€šå¸¸é«˜äº®çš„æ˜¯ä¸€äº›å…³é”®å­—,å‡½æ•°å,å˜é‡åä¹‹ç±»çš„,å®ƒä¾èµ–äº,font-lock-defaultså˜é‡
**** font-lock-defaults
è¯¥å˜é‡é€šå¸¸æ˜¯ä¸€ä¸ªlist,ä¸ºnilçš„è¯å°†ä¸ä¼šè¿›è¡Œä»»ä½•é«˜äº®,è€Œlisté‡Œé¢é€šå¸¸æœ‰å››ä¸ªå…³é”®å˜é‡
1. font-lock-keywords
   å…³é”®å­—çš„é«˜äº®è§„åˆ™
2. font-lock-keywords-only
   å­—ç¬¦ä¸²å’Œæ³¨é‡Šç­‰çš„é«˜äº®è§„åˆ™
3. font-lock-keywords-case-fold-search
   æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦åŒºåˆ†å¤§å°å†™
4. font-lock-syntax-table
   ä¸syntaxæœ‰å…³
** DONE orgmode
CLOSED: [2022-11-18 äº” 22:28]
:PROPERTIES:
:EXPORT_FILE_NAME: orgmode
:END:
:LOGBOOK:
- State "DONE"       from "TODO"       [2022-11-18 äº” 22:28]
:END:
*** æ–‡æ¡£ç»“æ„
**** åˆ—è¡¨
   * æ— åºåˆ—è¡¨
     + ä½¿ç”¨"*"å·çš„åˆ—è¡¨
       ç”±äºorgä¸­*å·å¯ä»¥æœ‰ä¸¤ç§å«ä¹‰,å³æ ‡é¢˜å’Œåˆ—è¡¨.æ‰€ä»¥è‹¥è¦ç”¨*å·è¡¨ç¤ºåˆ—è¡¨çš„è¯,*å·ä¸èƒ½ä½äºè¡Œé¦–å¦åˆ™å°±æˆæ ‡é¢˜äº†.
       ç¤ºä¾‹:
       * åˆ—è¡¨1
       * åˆ—è¡¨2
       * åˆ—è¡¨3
     + ä½¿ç”¨"+"å·æˆ–"-"å·çš„åˆ—è¡¨
       ä¸*å·ç”¨æ³•åŸºæœ¬ä¸€è‡´,å”¯ä¸€ä¸åŒçš„æ˜¯å¯ä»¥ä½äºè¡Œé¦–
   * æœ‰åºåˆ—è¡¨
     æœ‰åºåˆ—è¡¨ä½¿ç”¨"1."æˆ–è€…"1)"å¼€å¤´
     ç¤ºä¾‹:
     1. ç¬¬ä¸€
        1) fsdaf
        2) fdsja
     2. ç¬¬äºŒ
     3. ç¬¬ä¸‰
   * ç»“æŸåˆ—è¡¨
     å¯ä»¥åœ¨åˆ—è¡¨ä¸‹ç©ºä¸¤è¡Œ,ç»“æŸè¯¥åˆ—è¡¨,æˆ–è€…å°†å†…å®¹çš„ç¼©è¿›ä¿®æ”¹æˆå°äºæˆ–ç­‰äºè¯¥åˆ—è¡¨ä¹Ÿå¯ä»¥ç»“æŸåˆ—è¡¨.
   * å¸¸ç”¨æ“ä½œä¸å¿«æ·é”®
     * <tab>
       å¯¹åˆ—è¡¨è¿›è¡Œæ”¶ç¼©æˆ–å±•å¼€
     * M-RET
       åœ¨è¯¥åˆ—è¡¨ä¸‹æ–¹æ–°å»ºä¸€ä¸ªä¸è¯¥åˆ—è¡¨åŒçº§çš„åˆ—è¡¨.
       æ³¨æ„:å¦‚æœå…‰æ ‡ä½äºåˆ—è¡¨åç§°çš„ä¸­å°†çš„è¯,åˆ™ä¼šå°†è¯¥åˆ—è¡¨åçš„å†…å®¹ä½œä¸ºæ–°åˆ—è¡¨.
     * M-S-RET
       åœ¨è¯¥åˆ—è¡¨ä¸‹æ–¹æ–°å»ºä¸€ä¸ªä¸è¯¥åˆ—è¡¨åŒçº§å¹¶ä¸”å¸¦æœ‰å¤é€‰æ¡†çš„åˆ—è¡¨.å…¶ä»–ä¸M-RETåŠŸèƒ½ç›¸ä¼¼.
     * S-UPå’ŒS-DOWN
     * M-UPå’ŒM-DOWN
       ç§»åŠ¨åˆ—è¡¨,å°†åˆ—è¡¨ä¸Šç§»æˆ–è€…ä¸‹ç§».ç§»åŠ¨æ—¶ä¼šè¿å…¶ä¸‹çš„å†…å®¹ä¹Ÿä¼šéšä¹‹ç§»åŠ¨.
     * M-LEFTå’ŒM-RIGHT
       æå‡æˆ–è€…é™ä½åˆ—è¡¨çš„çº§åˆ«.ä¸ä¼šè¿åŒå­åˆ—è¡¨ä¸€èµ·ç§»åŠ¨.
     * M-S-LEFTå’ŒM-S-RIGHT
       æå‡æˆ–è€…é™ä½åˆ—è¡¨çš„çº§åˆ«.ä¼šè¿åŒå­åˆ—è¡¨ä¸€èµ·ç§»åŠ¨
     * C-c C-c
       ä¸å¤é€‰æ¡†ç›¸å…³çš„æ“ä½œ
     * C-c -
       ä¿®æ”¹ä¸å½“å‰åˆ—è¡¨åŒçº§çš„è¡¨ç¤ºæ–¹å¼,ä½¿å®ƒä»¬çš„è¡¨ç¤ºæ–¹å¼åœ¨"-,+,*,1.,1)"ä¸­å¾ªç¯åˆ‡æ¢.å¦‚æœæœ‰é€‰ä¸­åŒºåŸŸçš„è¯åˆ™åªå¯¹è¯¥åŒºåŸŸå†…çš„åˆ—è¡¨æœ‰æ•ˆ.
     * C-c *
       å°†å½“å‰åˆ—è¡¨ä¿®æ”¹ä¸ºæ ‡é¢˜,ä½¿å…¶ä¸‹ä¸å…¶åŒçº§åˆ«çš„åˆ—è¡¨æˆä¸ºå®ƒçš„å­é¡¹
     * C-c C-*
       å°†å½“å‰åˆ—è¡¨çº§åˆ«ä¸€è‡´çš„åˆ—è¡¨ä¿®æ”¹ä¸ºç¼©è¿›ä¸€è‡´çš„æ ‡é¢˜.
     * S-LEFTå’ŒS-RIGHT
       ä¿®æ”¹åˆ—è¡¨ä¸å½“å‰åˆ—è¡¨åŒçº§åˆ«çš„è¡¨ç¤ºæ–¹å¼,åœ¨"-,+,*,1.,1)"åˆ‡æ¢.
       æ³¨æ„:ä½¿ç”¨æ­¤æ“ä½œæ˜¯éœ€è¦å°†å…‰æ ‡ç§»åŠ¨åˆ°è¡¨ç¤ºåˆ—è¡¨çš„ç¬¦å·ä¸Š.
     * C-c ^
       å¯¹åˆ—è¡¨è¿›è¡Œæ’åº,å¯ä»¥æŒ‰æ•°å­—,å­—æ¯,æ—¶é—´æˆ–è€…è‡ªå®šä¹‰å‡½æ•°è¿›è¡Œæ’åº.

**** drawer
+ ç®€ä»‹
  draweré‡Œå¯ä»¥ä¿å­˜ä¸€äº›ä¸å†…å®¹ç›¸å…³çš„ä¸œè¥¿,è€Œä½ åˆä¸å¸Œæœ›æ˜¾ç¤ºä»–ä»¬,å°±å¯ä»¥ä½¿ç”¨drawer,è¿™ä¸ªæœ‰ç‚¹ç±»ä¼¼äºæ ‡ç­¾çš„åŠŸèƒ½.
+ ç¤ºä¾‹
  :drawerçš„åç§°:
  drawerçš„å†…å®¹
  :END:
+ å¸¸ç”¨æ“ä½œä¸å¿«æ·é”®
  * æ’å…¥ä¸€ä¸ªdrawer
    C-c C-x d
  * æ’å…¥ä¸€ä¸ªå¸¦æœ‰æ—¶é—´çš„drawer
    C-c C-z

**** block
   - ç®€ä»‹
     blocké€šå¸¸ç”¨äºå­˜æ”¾ä»£ç å—å’Œä¸€äº›ç¤ºä¾‹,ä»¥"#+BEGIN"å¼€å¤´,ä¸­é—´å†™å…¥å†…å®¹,ä»¥"#+END"ç»“å°¾.
   - ç¤ºä¾‹
     + å¼•ç”¨å—
       #+BEGIN_QUOTE
        å¼•ç”¨å†…å®¹
       #+END_QUOTE
     + ç¤ºä¾‹å—
       #+Begin_EXAMPLE
        ç¤ºä¾‹
       #+END_EXAMPLE
     + ä»£ç å—
       #+begin_src c
         int main()
           {
             int a=;
             float d=0;
             return 0;
             }
       #+end_src
*** è¡¨æ ¼
**** åˆ›å»ºè¡¨æ ¼
- è¡¨æ ¼è¡¨ç¤º
  å¦‚æœæŸè¡Œæ˜¯ä»¥'|'å¼€å¤´å¹¶ä¸”éç©ºçš„èŠ±ä¸€èˆ¬ä¼šè¢«è§†ä¸ºæ˜¯ä¸€ä¸ªè¡¨æ ¼,è€Œä»¥'|-'å¼€å¤´åˆ™ä¼šè¢«è§†ä¸ºæ˜¯ä¸€ä¸ªè¡¨æ ¼çš„æ°´å¹³çº¿.
- ç¤ºä¾‹:
   |   | 1 | 2 | 3 |
   |---+---+---+---|
   | 1 |   |   |   |
   | 2 |   |   |   |
   | 3 |   |   |   |
- å¿«æ·é”®
  * <tab>
    1. è¾“å…¥"|"æ—¶å¦‚æœæ˜¯é¦–å­—æ¯,æŒ‰tabä¼šè‡ªåŠ¨ç”Ÿæˆè¡¨æ ¼
    2. è¾“å…¥"|-"æ—¶å¦‚æœæ˜¯é¦–å­—æ¯,æŒ‰tabä¼šè‡ªåŠ¨ç”Ÿæˆè¡¨æ ¼çš„æ°´å¹³çº¿
    3. å½“å…‰æ ‡åœ¨è¡¨æ ¼ä¸­è¾“å…¥tabä¼šå°†å¾€å³ç§»è‡³ä¸‹ä¸€ä¸ªè¡¨æ ¼,å¦‚æœè¡¨æ ¼å·²ç»æ˜¯æœ€åä¸€ä¸ªåˆ™ä¼šç§»åŠ¨ä¸‹ä¸€è¡Œç¬¬ä¸€ä¸ª,å¦‚æœä¸‹ä¸€è¡Œæ²¡æœ‰å†…å®¹åˆ™ä¼šå…ˆåœ¨ä¸‹ä¸€è¡Œæ–°å»ºä¸€åˆ—.
  * S-<tab>
    ä¸<tab>ç›¸å,ä¸è¿‡åªåŒ…å«ç§»åŠ¨æ“ä½œ.
  * M-a
    å°†å…‰æ ‡å®šä½çš„å½“å‰æ ¼å­çš„æœ€å‰é¢,å¦‚æœå…‰æ ‡æ‰€åœ¨æ ¼å­æ²¡æœ‰å†…å®¹è€…ä¸<tab>åŠŸèƒ½ç›¸åŒ
  * M-a
    å°†å…‰æ ‡å®šä½çš„å½“å‰æ ¼å­çš„æœ€å,å¦‚æœå…‰æ ‡æ‰€åœ¨æ ¼å­æ²¡æœ‰å†…å®¹è€…ä¸S-<tab>åŠŸèƒ½ç›¸åŒ
  * RET
    ä¸Šä¸‹ç§»åŠ¨è¡¨æ ¼,å¦‚æœè¡¨æ ¼å·²ç»æ˜¯æœ€åä¸€è¡Œåˆ™ä¼šåœ¨ä¸‹ä¸€è¡Œæ–°å»ºä¸€è¡Œæ¯”è¡¨æ ¼åè½½ç§»åŠ¨ä¸‹ä¸€è¡Œç¬¬ä¸€ä¸ª
  * C-c | (org-table-create-or-convert-from-region)
    è¯¥å‘½ä»¤è¾“å…¥åä¼šæç¤ºç”¨æˆ·è¾“å…¥è¡¨æ ¼çš„åˆ—xè¡Œ,è¾“å…¥åä¼šåœ¨è¯¥åŒºåŸŸåˆ›å»ºä¸€ä¸ªè¿™æ ·çš„è¡¨æ ¼.å¦‚æœå½“å‰é€‰ä¸­çš„åŒºåŸŸæ˜¯ä»¥é€—å·æˆ–è€…ç©ºæ ¼åˆ†å¼€çš„,åˆ™è¯¥å‘½ä»¤ä¼šæŒ‰æ­¤è‡ªåŠ¨ç”Ÿæˆè¡¨æ ¼.
  * C-c C-c
    æ˜¯å½“å‰è¡¨æ ¼å¯¹é½
  * org-table-blank-field
    æ¸…ç©ºå½“å‰å…‰æ ‡æ‰€å¤„ä½ç½®çš„æ ¼å­ä¸­çš„å†…å®¹
  * M-LEFT (org-table-move-column-left)å’ŒM-RIGHT (org-table-move-column-right)
    å°†å½“å‰åˆ—å‘æŒ‡å®šæ–¹å‘ç§»åŠ¨
  * M-S-LEFT (org-table-delete-column)
    å°†å½“å‰åˆ—åˆ é™¤
  * M-S-RIGHT (org-table-insert-column)
    åœ¨å½“å‰åˆ—çš„å‰é¢æ–°å»ºä¸€åˆ—
  * M-UP (org-table-move-row-up)å’ŒM-DOWN (org-table-move-row-down)
    å°†å½“å‰è¡Œå‘æŒ‡å®šæ–¹å‘ç§»åŠ¨.
  * M-S-UP (org-table-kill-row)
    å°†å½“å‰è¡Œåˆ é™¤
  * M-S-DOWN (org-table-insert-row)
    åœ¨å½“å‰è¡Œä¸Šé¢æ–°å»ºä¸€è¡Œ.
  * å¯¹å•ä¸ªæ ¼å­ç§»åŠ¨
    - S-UP (org-table-move-cell-up)
      å°†å½“å‰æ ¼å­å‘ä¸Šç§»åŠ¨
    - S-DOWN (org-table-move-cell-down)
      å°†å½“å‰æ ¼å­å‘ä¸‹ç§»åŠ¨
    - S-LEFT (org-table-move-cell-left)
      å°†å½“å‰æ ¼å­å‘å·¦ç§»åŠ¨
    - S-RIGHT (org-table-move-cell-right)
      å°†å½“å‰æ ¼å­å‘å³ç§»åŠ¨
  * C-c - (org-table-insert-hline)
    åœ¨å½“å‰è¡Œä¸‹é¢æ’å…¥è¡¨æ ¼çš„æ°´å¹³çº¿
  * C-c RET (org-table-hline-and-move)
    ä¸C-c -åŠŸèƒ½ä¸€è‡´,ä¸è¿‡ä¼šç§»åŠ¨è‡³æ–°å»ºçš„æ°´å¹³çº¿ä¸‹ä¸€è¡Œè¡¨æ ¼
  * C-c ^ (org-table-sort-lines)
    å¯¹è¡¨æ ¼è¿›è¡Œæ’åº,æ’åºçš„é€‰æ‹©å¯¹è±¡ä¸ºå…‰æ ‡æ‰€åœ¨çš„åˆ—.
  * C-c ` (org-table-edit-field)
    æ–°å¼€ä¸€ä¸ªbufferå¯¹å½“å‰æ ¼å­çš„å†…å®¹è¿›è¡Œç¼–è¾‘
  * M-x org-table-transpose-table-at-point
    å°†å…‰æ ‡æ‰€åœ¨çš„è¡¨æ ¼è¿›è¡Œè¡Œåˆ—äº’æ¢
  * C-c TAB (org-table-toggle-column-width)
    æ”¶ç¼©æˆ–è€…æ‰©å¼ 
*** è¶…é“¾æ¥
**** åˆ›å»ºè¶…é“¾æ¥
   ç¤ºä¾‹:
   #+begin_example
   [[é“¾æ¥][æè¿°]]
   æˆ–
   [[é“¾æ¥]]
   #+END_example

**** é“¾æ¥ç±»å‹
   - å†…éƒ¨é“¾æ¥
     + ä½¿ç”¨id
       è·³è½¬åˆ°æŒ‡å®šidä½ç½®
       #+begin_example
       [#custom_id]
       #+end_example
     + ä½¿ç”¨ç« èŠ‚
       è·³è½¬åˆ°æŒ‡å®šç« èŠ‚
       #+begin_example
       [*section]
       æˆ–
       [section]
       #+end_example
     + å®šä¹‰æ ‡è®°
       è·³è½¬åˆ°è‡ªå®šä¹‰çš„æ ‡è®°,ä½¿ç”¨'<<target>>'è‡ªå®šä¹‰ä¸€ä¸ªæ ‡è®°
       #+begin_example
       <<target>>
       [target]
       #+end_example
   - å¤–éƒ¨é“¾æ¥
     å¯ä»¥æ‰“å¼€ç½‘å€,æ–‡ä»¶ç­‰å†…å®¹,ä¸€èˆ¬éƒ½æœ‰è‡ªå·±çš„æ ¼å¼å¼€å¤´,æ¯”å¦‚ç½‘å€ä»¥httpæˆ–httpså¼€å¤´,æ–‡ä»¶ä»¥fileå¼€å¤´
     #+begin_example
     [[https://www.baidu.com]]
     [[file:/home/cl/]]
     #+end_example

*** todo-item
**** todoçš„ä½¿ç”¨
   todoè·Ÿæ ‡é¢˜çš„ä½¿ç”¨æ–¹å¼å‡ ä¹ä¸€æ ·,åœ¨æ ‡é¢˜å‰åŠ ä¸ŠTODO(å¤§å†™)å³å¯æ˜¯æ ‡é¢˜æˆä¸ºä¸€ä¸ªTODOåˆ—è¡¨
   #+begin_example
   *** TODO å¼€ä¼š
   #+end_example
***** å¸¸ç”¨çš„å¿«æ·é”®å’Œå‘½ä»¤
| å¿«æ·é”®          | å‘½ä»¤                    | ä½œç”¨                                                             |
|-----------------+-------------------------+------------------------------------------------------------------|
| C-c C-t         | org-todo                | åˆ‡æ¢todoçš„çŠ¶æ€                                                   |
| S-rightå’ŒS-left |                         | å¾ªç¯åˆ‡æ¢todoçŠ¶æ€                                                 |
| C-c / t         | org-show-todo-tree      | å°†æ–‡æ¡£ä¸­æ‰€ä»¥çš„todoé¡¹ä»¥ç¨€ç–æ ‘çš„å½¢å¼å±•ç°å‡ºæ¥                       |
| C-c a t         | org-adenda t            | æ˜¾ç¤ºå…¨å±€ TODO åˆ—è¡¨ã€‚ä»æ‰€æœ‰çš„è®®ç¨‹æ–‡ä»¶ä¸­æ”¶é›† TODO é¡¹åˆ°ä¸€ä¸ªç¼“å†²åŒºä¸­ |
| S-M-RET         | org-insert-todo-heading | æ’å…¥ä¸€ä¸ªtodoåˆ—è¡¨                                                 |

**** å®Œæˆè¿›åº¦
   å¯ä»¥åœ¨æ ‡é¢˜æˆ–è€…todoåˆ—è¡¨ååŠ ä¸Š'[/]'æˆ–è€…'[%]'æ¥å…¶å­é¡¹todoçš„å®Œæˆè¿›åº¦æˆ–è€…å¤é€‰æ¡†çš„é€‰æ‹©æ¯”ä¾‹,æŒ‰'C-c C-c'å¯ä»¥åˆ·æ–°å…¶çŠ¶æ€
***** ç¤ºä¾‹  [2/4] [50%]
****** DONE 111
CLOSED: [2022-10-29 å…­ 11:40]
:LOGBOOK:
- State "DONE"       from "TODO"       [2022-10-29 å…­ 11:40]
:END:
****** TODO 222
****** TODO 333
****** DONE 444
CLOSED: [2022-10-29 å…­ 11:41]
:LOGBOOK:
- State "DONE"       from "TODO"       [2022-10-29 å…­ 11:41]
:END:
**** å¤é€‰æ¡†
   å¤é€‰æ¡†æ˜¯ç‰¹æ®Šçš„åˆ—è¡¨,åœ¨åˆ—è¡¨çš„åç§°å‰åŠ ä¸Š'[ ]'å³æ˜¯ä¸€ä¸ªå¤é€‰æ¡†
   ä¾‹å¦‚:
***** TODO today arrange [0/3] [0%]
:PROPERTIES:
:ORDERED:  t
:END:
    - [-] call someone [1/3]
      - [ ] peter
      - [ ] lasy
      - [X] jonh
    - [-] order food [2/3]
      - [X] milk
      - [ ] bread
      - [X] dumpling
    - [-] listen music [33%]
      - [ ] jay chou
      - [X] justin biber
      - [ ] mike jackson
***** æ“ä½œä¸å¿«æ·é”®
    - C-c C-cå’ŒC-c C-x C-b(org-toggle-checkbox)
      è§¦å‘å¤é€‰æ¡†çš„çŠ¶æ€
    - C-c C-x C-r (org-toggle-radio-button)
      æ˜¯å¾—åŒçº§çš„å¤é€‰æ¡†åªèƒ½é€‰ä¸­ä¸€ä¸ªæˆ–ä¸é€‰,æ‰§è¡Œæ­¤å‘½ä»¤ä¼šæ˜¯åŒçº§å¤é€‰æ¡†éƒ½å¤„äºéé€‰ä¸­çŠ¶æ€,å¦‚æœå½“å‰å¤é€‰æ¡†æ˜¯é€‰ä¸­çš„åˆ™å–æ¶ˆé€‰ä¸­,å¦åˆ™é€‰ä¸­.
    - M-S-RET (org-insert-todo-heading)
      æ’å…¥ä¸€ä¸ªæ–°çš„å¤é€‰æ¡†
*** æ ‡ç­¾
  æ ‡ç­¾æ˜¯å¯¹æ ‡é¢˜çš„è¯´æ˜,å¯ä»¥åœ¨æ ‡é¢˜åä½¿ç”¨å¹¶ä¸”ä¸€ä¸ªæ ‡é¢˜å¯ä»¥å«æœ‰å¤šä¸ªæ ‡ç­¾,æ ‡ç­¾çš„å‰åéƒ½å¿…é¡»æœ‰ä¸€ä¸ªå†’å·
**** æ ‡ç­¾çš„ç»§æ‰¿
   æ ‡ç­¾å…·æœ‰ç»§æ‰¿æ€§,ä¸€ä¸ªæ ‡é¢˜å¦‚æœå…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ ‡ç­¾,é‚£ä¹ˆå…¶ä¸‹çš„å­é¡¹ä¹Ÿä¼šç»§æ‰¿è¿™äº›æ ‡ç­¾.
   #+begin_example
   * Meeting with the French group      :work:
   ** Summary by Frank                  :boss:notes:
   *** TODO Prepare slides for him      :action:
   #+end_example
   åœ¨ä»¥ä¸Šç¤ºä¾‹ä¸­,æœ€åä¸€ä¸ªtodoæ ‡é¢˜è™½ç„¶åªæœ‰ä¸€ä¸ªæ ‡ç­¾,ä½†å…¶å®å®ƒä¼šç»§æ‰¿å…¶çˆ¶æ ‡ç­¾,æ‰€ä»¥è¯¥æ ‡é¢˜å«æœ‰work,boss,notes,actionå››ä¸ªæ ‡ç­¾
   ä¹Ÿå¯ä»¥è®¾ç½®ä¸€ä¸ªæ ‡ç­¾è®©æ‰€æœ‰çš„æ ‡ç­¾ç»§æ‰¿,æ¯”å¦‚
   #+begin_example
   #+FILETAGS: :Peter:Boss:Secret:
   #+end_example
   è¿™æ ·è®¾ç½®å°±å¥½åƒåœ¨ç¬¬0çº§çš„æ ‡é¢˜è®¾ç½®æ ‡ç­¾ä¸€æ ·,æ‰€æœ‰æ ‡é¢˜éƒ½ä¼šç»§æ‰¿è¯¥æ ‡é¢˜çš„æ ‡ç­¾
***** æ ‡ç­¾æ“ä½œå’Œå¿«æ·é”®
- C-c C-q (org-set-tags-command)
  æ’å…¥ä¸€ä¸ªæ ‡ç­¾
- C-c C-c
  ä¸ä¸Šé¢åŠŸèƒ½ç›¸åŒ
*** å±æ€§
:PROPERTIES:
:STYLE:    fsd
:END:
** DONE shellç¼–ç¨‹
CLOSED: [2022-11-25 äº” 23:34]
:PROPERTIES:
:EXPORT_FILE_NAME: shellç¼–ç¨‹
:END:
:LOGBOOK:
- State "DONE"       from "TODO"       [2022-11-25 äº” 23:34]
:END:
*** åŸºæœ¬bash shellå‘½ä»¤
1. moreå‘½ä»¤
   ç”¨äºæµè§ˆæ–‡ä»¶,å®ç°äº†åŸºæœ¬çš„ç¿»é¡µåŠŸèƒ½
2. lesså‘½ä»¤
   å¯ä»¥ç†è§£ä¸ºmoreçš„å‡çº§ç‰ˆ,ä½†å®é™…ä¸Šä¸moreå‘½ä»¤ç›¸å·®ä¸å¤§
3. tailå‘½ä»¤
   æŸ¥çœ‹æ–‡ä»¶å°¾éƒ¨çš„å‡ è¡Œå†…å®¹
4. headå‘½ä»¤
   ä¸tailå‘½ä»¤ç›¸å
*** æ›´å¤šbash shellå‘½ä»¤
**** è¿›ç¨‹ç›¸å…³å‘½ä»¤
1. pså‘½ä»¤
   Linuxç³»ç»Ÿä¸­ä½¿ç”¨çš„GNU pså‘½ä»¤æ”¯æŒ3ç§ä¸åŒç±»å‹çš„å‘½ä»¤è¡Œå‚æ•°ï¼š
     Unixé£æ ¼çš„å‚æ•°ï¼Œå‰é¢åŠ å•ç ´æŠ˜çº¿(-)
     BSDé£æ ¼çš„å‚æ•°ï¼Œå‰é¢ä¸åŠ ç ´æŠ˜çº¿
     GNUé£æ ¼é•¿å‚æ•°,å‰é¢åŠ åŒç ´æŠ˜å·(--)
   * unixé£æ ¼çš„å‚æ•°
      | å‚æ•° | åŠŸèƒ½                                                   |
      |------+--------------------------------------------------------|
      | -A   | æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹                                           |
      | -N   | æ˜¾ç¤ºä¸æŒ‡å®šå‚æ•°ä¸ç¬¦çš„æ‰€æœ‰è¿›ç¨‹                           |
      | -a   | æ˜¾ç¤ºé™¤æ§åˆ¶è¿›ï¼ˆsession leaderï¼‰å’Œæ— ç»ˆç«¯è¿›ç¨‹å¤–çš„æ‰€æœ‰è¿›ç¨‹ |
      | -d   | æ˜¾ç¤ºé™¤æ§åˆ¶è¿›ç¨‹å¤–çš„æ‰€æœ‰è¿›ç¨‹                             |
      | -e   | æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹                                           |
      | -C   | cmdlistæ˜¾ç¤ºåŒ…å«åœ¨cmdliståˆ—è¡¨ä¸­çš„è¿›ç¨‹                   |
      | -G   | grplistæ˜¾ç¤ºç»„IDåœ¨grpliståˆ—è¡¨ä¸­çš„è¿›ç¨‹                   |
      | -U   | userlistæ˜¾ç¤ºå±ä¸»çš„ç”¨æˆ·IDåœ¨userliståˆ—è¡¨ä¸­çš„è¿›ç¨‹         |
      | -s   | sesslist                                               |
      | -t   | ttylistæ˜¾ç¤ºç»ˆç«¯IDåœ¨ttyliståˆ—è¡¨ä¸­çš„è¿›ç¨‹                 |
      | -u   | userlistæ˜¾ç¤ºæœ‰æ•ˆç”¨æˆ·IDåœ¨userliståˆ—è¡¨ä¸­çš„è¿›ç¨‹           |
      | -F   | æ˜¾ç¤ºæ›´å¤šé¢å¤–è¾“å‡ºï¼ˆç›¸å¯¹-få‚æ•°è€Œè¨€ï¼‰                     |
      | -O   | formatæ˜¾ç¤ºé»˜è®¤çš„è¾“å‡ºåˆ—ä»¥åŠformatåˆ—è¡¨æŒ‡å®šçš„ç‰¹å®šåˆ—       |
      | -M   | æ˜¾ç¤ºè¿›ç¨‹çš„å®‰å…¨ä¿¡æ¯                                     |
      | -c   | æ˜¾ç¤ºè¿›ç¨‹çš„é¢å¤–è°ƒåº¦å™¨ä¿¡æ¯                               |
      | -f   | æ˜¾ç¤ºå®Œæ•´æ ¼å¼çš„è¾“å‡º                                     |
      | -j   | æ˜¾ç¤ºä»»åŠ¡ä¿¡æ¯                                           |
      | -l   | æ˜¾ç¤ºé•¿åˆ—è¡¨                                             |
      | -o   | formatä»…æ˜¾ç¤ºç”±formatæŒ‡å®šçš„åˆ—                           |
      | -y   | ä¸è¦æ˜¾ç¤ºè¿›ç¨‹æ ‡è®°ï¼ˆprocessflagï¼Œè¡¨æ˜è¿›ç¨‹çŠ¶æ€çš„æ ‡è®°ï¼‰    |
      | -Z   | æ˜¾ç¤ºå®‰å…¨æ ‡ç­¾ï¼ˆsecurity contextï¼‰â‘ ä¿¡æ¯                 |
      | -H   | ç”¨å±‚çº§æ ¼å¼æ¥æ˜¾ç¤ºè¿›ç¨‹ï¼ˆæ ‘çŠ¶ï¼Œç”¨æ¥æ˜¾ç¤ºçˆ¶è¿›ç¨‹ï¼‰           |
      | -n   | namelistå®šä¹‰äº†WCHANåˆ—æ˜¾ç¤ºçš„å€¼                          |
      | -w   | é‡‡ç”¨å®½è¾“å‡ºæ¨¡å¼ï¼Œä¸é™å®½åº¦æ˜¾ç¤º                           |
      | -L   | æ˜¾ç¤ºè¿›ç¨‹ä¸­çš„çº¿ç¨‹                                       |
      | -V   | æ˜¾ç¤ºpså‘½ä»¤çš„ç‰ˆæœ¬å·                                     |
2. killå‘½ä»¤
**** æ–‡ä»¶ç›¸å…³å‘½ä»¤
***** grepåŸºæœ¬ä½¿ç”¨
****** åå‘æœç´¢
æŸ¥æ‰¾æ²¡æœ‰å­—æ¯"t"çš„è¡Œ
grep -v t filename
****** æ˜¾ç¤ºæŸ¥æ‰¾å†…å®¹çš„è¡Œå·
æŸ¥æ‰¾tæ‰€åœ¨çš„è¡Œå¹¶æ˜¾ç¤ºè¡Œå·
grep -n t filename
****** ç»Ÿè®¡æœç´¢ç»“æœçš„è¡Œæ•°
ç»Ÿè®¡æœç´¢ç»“æœä¸­å«æœ‰å­—æ¯"t"çš„è¡Œæ•°
grep -c t filename
****** ä½¿ç”¨å¤šç§æœç´¢æ¨¡å¼
æŸ¥æ‰¾å«"t"æˆ–å«"f"çš„è¡Œ
grep -e t -e f filename
*** linuxæ–‡ä»¶ç®¡ç†ç³»ç»Ÿ
**** linuxåŸºæœ¬æ–‡ä»¶ç³»ç»Ÿ
***** ext
*** æ„å»ºåŸºæœ¬è„šæœ¬
**** åˆ›å»ºshellè„šæœ¬æ–‡ä»¶
åœ¨shellè„šæœ¬æ–‡ä»¶ä¸­ç”¨'#'è¡¨ç¤ºæ³¨é‡Š,ä½†ç¬¬ä¸€è¡Œå´æ˜¯ä¸ªä¾‹å¤–,ä¸€èˆ¬shellçš„ç¬¬ä¸€è¡Œä¸º
#+begin_src shell
#!/bin/bash
#+end_src
è¿™ä¸€è¡Œå‘Šè¯‰shellç”¨å“ªä¸ªshellæ¥è¿è¡Œè„šæœ¬,å½“ç„¶è¿™é‡Œçš„bashåªæ˜¯ä¸€ä¸ªç¤ºä¾‹,ä½ ä¹Ÿå¯ä»¥ç”¨å…¶ä»–çš„shell.
é™¤ç¬¬ä¸€è¡Œå¤–,å…¶ä»–è¡Œè‹¥ä»¥'#'å¼€å¤´åˆ™åªèµ·æ³¨é‡Šä½œç”¨ä¸åšä»»ä½•è§£é‡Š.
**** å˜é‡
åœ¨shellä¸­è‹¥è¦ä½¿ç”¨å˜é‡åˆ™éœ€è¦åœ¨å˜é‡åå‰åŠ '$'æ‰å¯ä»¥è¢«è§£é‡Šä¸ºä¸€ä¸ªå˜é‡,
å¦åˆ™ä¼šè¢«è§£é‡Šä¸ºæ™®é€šå­—ç¬¦ä¸²,è‹¥è¦è¾“å‡º'$'åˆ™å¯ä»¥ä½¿ç”¨'\$'
åœ¨shellä¸­å˜é‡å‘½åçš„è§„åˆ™ä¸ºå­—æ¯,æ•°å­—,ä¸‹åˆ’çº¿ä¸”é•¿åº¦ä¸èƒ½è¶…20ä¸ªå­—ç¬¦,å˜é‡
åæ˜¯åŒºåˆ†å¤§å°å†™çš„.
- å˜é‡åˆ›å»º
  å˜é‡åˆ›å»ºåªéœ€ä½¿ç”¨å˜é‡åååŠ '='å³å¯
  èµ‹å€¼ä¹Ÿä¸å˜é‡åˆ›å»ºæ–¹æ³•ç›¸åŒ
  æ³¨æ„:
  è‹¥è¦å°†ä¸€ä¸ªå˜é‡èµ‹å€¼ç»™å…¶ä»–å˜é‡,åˆ™å¿…é¡»è¦æœ‰'$',å¦åˆ™ä¼šè¢«è§£é‡Šä¸ºå­—ç¬¦ä¸²
  å˜é‡åå’Œ'='ä»¥åŠå€¼ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼
  #+begin_src shell
    value1=fsdfd
    value2=$value1
  #+end_src
**** å‘½ä»¤æ›¿æ¢
é€šå¸¸æ¥è¯´,è‹¥æƒ³è·å¾—ä¸€æ¡å‘½ä»¤çš„è¾“å‡º,å¯ä½¿ç”¨åå¼•å·'`'æˆ–è€…'$()',
#+begin_src shell
  val=$(echo  3) æˆ–è€… val=`ehco 3`
   echo $val
#+end_src
ä¸Šé¢ç¤ºä¾‹ä¸­'val'çš„åªä¼šç­‰äº'ehco 3'çš„å€¼å³ä¸º3
**** é‡å®šå‘è¾“å…¥è¾“å‡º
- è¾“å‡ºé‡å®šå‘
  å…¶åŸºæœ¬åŠŸèƒ½æ˜¯å°†å‘½ä»¤çš„è¾“å‡ºå†™åˆ°æŒ‡å®šæ–‡ä»¶ä¸­,
  * æ ¼å¼:
    ls(ä»…åšç¤ºèŒƒ,ä½¿ç”¨å…¶ä»–å‘½ä»¤å‡å¯) > æ–‡ä»¶å
    ls >> æ–‡ä»¶å
  ç¬¦å·'>'è¡¨ç¤ºè¦†ç›–æ–‡ä»¶
  ç¬¦å·'>>'è¡¨è¿½åŠ 
- è¾“å…¥é‡å®šå‘
  è¾“å…¥é‡å®šå‘å’Œè¾“å‡ºé‡å®šå‘æ­£å¥½ç›¸åã€‚è¾“å…¥é‡å®šå‘å°†æ–‡ä»¶çš„å†…å®¹é‡å®šå‘åˆ°å‘½ä»¤.
  * æ ¼å¼:
    wc < æ–‡ä»¶å
  wcæ˜¯ä¸€ä¸ªç»Ÿè®¡æ–‡æœ¬çš„å‘½ä»¤,å®ƒä¼šè®¡ç®—å‡ºæ–‡æœ¬çš„è¡Œæ•°,è¯æ•°,åŠå­—èŠ‚æ•°
  ä¸Šé¢ç¤ºä¾‹çš„å«ä¹‰å³ä¸ºç»Ÿè®¡æ–‡ä»¶çš„è¡Œæ•°,è¯æ•°,å­—èŠ‚æ•°
  * æ ¼å¼2
    wc << æ ‡è®°
  è¿™ç§æ ¼å¼æˆä¸ºå†…è”è¾“å…¥é‡å®šå‘,å®ƒçš„ä½¿ç”¨éœ€è¦ä¸€ä¸ªæ ‡è®°,ä½œä¸ºæ–‡æœ¬çš„ç»“å°¾æ ‡è®°
  * ä¾‹å¦‚
    $ wc << EOF
    > test string 1
    > test string 2
    > test string 3
    > EOF
**** ç®¡é“
å…¶å«ä¹‰æ˜¯å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥,
åˆ©ç”¨é‡å®šå‘çš„æ–¹å¼å¯è¡¨ç¤ºä¸º:
#+begin_example
ls  -U  >  temp
sort  <  temp
#+end_example
ç¤ºä¾‹å«ä¹‰ä¸ºå°†lsçš„ä¸æ’åºçš„è¾“å‡ºç»“æ„å†™åˆ°tempæ–‡ä»¶,åœ¨ç”¨sortå¯¹tempæ–‡ä»¶æ’åºè¾“å‡º\
ä½†linuxæä¾›äº†æ›´ç®€ä¾¿çš„æ–¹å¼
å³æˆ‘ä»¬å¯ä»¥åˆ©ç”¨'|'ç¬¦å·:
#+begin_example
ls -U  | sort
#+end_example
è¿™å‘½ä»¤ä¸ä¸Šé¢çš„åŠŸèƒ½ç›¸åŒ,å¹¶ä¸”è¿˜ä¸éœ€è¦ä¸­é—´æ–‡ä»¶
**** ä½¿ç”¨æ•°å­¦è¡¨è¾¾å¼
è‹¥è¦åœ¨shellä¸­ä½¿ç”¨æ•°å­¦è¡¨è¾¾å¼åˆ™éœ€è¦ä½¿ç”¨å…³é”®å­—'expr è¡¨è¾¾å¼'æˆ–åˆ™ä½¿ç”¨'$[è¡¨è¾¾å¼]'
- ç¤ºä¾‹
  #+begin_example
expr  4 / 2
$[4 / 2]
  #+end_example
ä¸Šé¢æè¿°çš„ä¸¤ç§æ•°å­¦è¡¨è¾¾å¼çš„ä½¿ç”¨éƒ½ä¸æ”¯æŒæµ®ç‚¹æ•°è¿ç®—
è§£å†³æ­¤é—®é¢˜æœ€å¸¸ç”¨çš„æ˜¯ä½¿ç”¨bashè®¡ç®—å™¨bc,å®ƒèƒ½å¤Ÿè¯†åˆ«æ•°å­—,å˜é‡,æ³¨é‡Š,è¡¨è¾¾å¼,ç¼–ç¨‹è¯­å¥,å‡½æ•°
è€Œbcä¸­å­˜åœ¨å†…ç½®å˜é‡scaleå®ƒå¯ä»¥æ§åˆ¶æµ®ç‚¹æ•°è¾“å‡ºçš„ä½æ•°,è‹¥ä¸ºå®ƒèµ‹å€¼åˆ™é»˜è®¤ä¸º0,å³ä¸ä¿ç•™å°æ•°ä½
åˆ©ç”¨å…¶é‚£é¢å­¦çš„ç®¡é“,æˆ‘ä»¬å°±å¯ä»¥å®ç°åœ¨shellè„šæœ¬ä¸­ä½¿ç”¨bc
#+begin_example
var1=$(echo  "scale=4;10/3" |   bc)
#+end_example
ä½†å¦‚æœæ˜¯æ¯”è¾ƒé•¿çš„è®¡ç®—ä½¿ç”¨è¿™ç§æ–¹æ³•éå¸¸çš„éº»çƒ¦,
æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰é¢æ‰€å­¦çš„å†…è”é‡å®šå‘è¾“å…¥'<<'
#+begin_src shell
var1=10.46
var2=43.67
var3=33.2
var4=71
var5=$(bc << EOF
scale = 4
a1 = ( $var1 * $var2)
b1 = ($var3 * $var4)
a1 + b1
EOF
)
#+end_src
**** é€€å‡ºè„šæœ¬
- é€€å‡ºç 
  Linuxæä¾›äº†ä¸€ä¸ªä¸“é—¨çš„å˜é‡$?æ¥ä¿å­˜ä¸Šä¸ªå·²æ‰§è¡Œå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ç ã€‚
  | çŠ¶æ€ç  | æè¿°                             |
  |--------+----------------------------------|
  |      0 | å‘½ä»¤æˆåŠŸç»“æŸ                     |
  |      1 | ä¸€èˆ¬æ€§æœªçŸ¥é”™è¯¯                   |
  |      2 | ä¸é€‚åˆçš„shellå‘½ä»¤                |
  |    126 | å‘½ä»¤ä¸å¯æ‰§è¡Œ(ä¸€èˆ¬ä¸ºæ²¡æœ‰æ‰§è¡Œæƒé™) |
  |    127 | æ²¡æ‰¾åˆ°å‘½ä»¤                       |
  |    128 | æ— æ•ˆçš„é€€å‡ºå‚æ•°                   |
  |  128+x | ä¸Linuxä¿¡å·xç›¸å…³çš„ä¸¥é‡é”™è¯¯       |
  |    130 | é€šè¿‡Ctrl+Cç»ˆæ­¢çš„å‘½ä»¤             |
  |    255 | æ­£å¸¸èŒƒå›´ä¹‹å¤–çš„é€€å‡ºçŠ¶æ€ç          |
- exitå‘½ä»¤
  exitå‘½ä»¤åœ¨è„šæœ¬ä¸­å¯ç”¨äºè¿”å›è‡ªå·±å®šä¹‰çš„é€€å‡ºç ,ä¸€èˆ¬æ¥è¯´shellè„šæœ¬ä¼šè¿”å›æœ€åä¸€ä¸ªå‘½ä»¤
  æ‰§è¡Œæ‰€è¿”å›çš„é€€å‡ºç ,è€Œä½¿ç”¨exitå¯ä»¥è‡ªå·±è¿”å›ä¸€ä¸ªè‡ªå®šä¹‰çš„é€€å‡ºç 
  #+begin_example
å‘½ä»¤å¼€å§‹
.
.
.
å‘½ä»¤ç»“æŸ
exit 8
  #+end_example
  ä½¿ç”¨ç¤ºä¾‹ä¸­çš„ä»£ç å°±å¯ä»¥å®ç°è¿”å›è‡ªå®šä¹‰çš„é€€å‡ºç ,ç¤ºä¾‹ä¸­è¿”å›çš„æ˜¯8
*** ä½¿ç”¨ç»“æ„åŒ–å‘½ä»¤
**** ifä½¿ç”¨
ifåå¯ä»¥æ¥å—ä¸€ä¸ªå‘½ä»¤,ifä¼šæ ¹æ®å‘½ä»¤çš„é€€å‡ºç æ¥åˆ¤æ–­æ‰§è¡Œçš„åˆ†æ”¯,
é€€å‡ºç ä¸º0å³å‘½ä»¤æ­£ç¡®æ‰§è¡Œ,åˆ™æ‰§è¡Œthenåçš„å‘½ä»¤é›†,å¦åˆ™ä¸æ‰§è¡Œæˆ–æ‰§è¡Œå…¶ä»–åˆ†æ”¯
åŸºæœ¬ä½¿ç”¨æ–¹å¼å¦‚ä¸‹
#+begin_src shell
   #!/bin/bash

   #å½¢å¼1
   if å‘½ä»¤
   then
   ...
   fi

   #å½¢å¼2
   if å‘½ä»¤
   then
  ...
   else
   ...
   fi
   #å½¢å¼3
   if å‘½ä»¤
   then
   ...
   elif
   then
   ...
   else
   ...
   fi
#+end_src
**** testå‘½ä»¤
ç”±äºifè¯­å¥åé¢åªèƒ½é€šè¿‡å‘½ä»¤çš„é€€å‡ºç æ¥åˆ¤å®šæ‰§è¡Œåˆ†æ”¯,ä½¿å¾—ifä½¿ç”¨å¾ˆä¸æ–¹ä¾¿
testå‘½ä»¤å°±å¯ä»¥å®ç°ç±»ä¼¼äºå…¶ä»–ç¼–ç¨‹è¯­è¨€çš„ifåˆ¤æ–­è§„åˆ™,å®ƒçš„å·¥ä½œåŸç†æ˜¯ä½†testå‘½ä»¤ä¸­
æ‰€æ‰§è¡Œçš„æ¡ä»¶å¦‚æœä¸ºçœŸåˆ™è¿”å›çŠ¶æ€ç 0,ä½¿å¾—thenå¯ä»¥æ‰§è¡Œ,å¦åˆ™è¿”å›é0çŠ¶æ€ç ,æ‰§è¡Œå…¶ä»–åˆ†æ”¯
å…¶åŸºæœ¬èƒ½å½¢å¼ä¸º:
#+begin_src shell
  if test æ¡ä»¶
then
  ...
  fi
#+end_src
ä¹Ÿå¯ä»¥åœ¨ifåé¢åŠ '[æ¡ä»¶]'æ¥åˆ¤æ–­,è¿™ä¸testçš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„
#+begin_src shell
if  [æ¡ä»¶]
then
...
fi
#+end_src
- testæ•°å€¼æ¯”è¾ƒ
  | æ¯”è¾ƒ        | æè¿°                   |
  |-------------+------------------------|
  | n1  -eq  n2 | æ£€æŸ¥n1æ˜¯å¦ä¸n2ç›¸ç­‰     |
  | n1  -ge n2  | æ£€æŸ¥n1æ˜¯å¦å¤§äºæˆ–ç­‰äºn2 |
  | n1 -gt n2   | æ£€æŸ¥n1æ˜¯å¦å¤§äºn2       |
  | n1 -le n2   | æ£€æŸ¥n1æ˜¯å¦å°äºæˆ–ç­‰äºn2 |
  | n1 -lt  n2  | æ£€æŸ¥n1æ˜¯å¦å°äºn2       |
  | n1 -ne  n2  | æ£€æŸ¥n1æ˜¯å¦ä¸ç­‰äºn2     |
- testå­—ç¬¦ä¸²æ¯”è¾ƒ
  | æ¯”è¾ƒ         | æè¿°                   |
  |--------------+------------------------|
  | str1 = str2  | æ£€æŸ¥str1æ˜¯å¦å’Œstr2ç›¸åŒ |
  | str1 != str2 | æ£€æŸ¥str1æ˜¯å¦å’Œstr2ä¸åŒ |
  | str1 < str2  | æ£€æŸ¥str1æ˜¯å¦æ¯”str2å°   |
  | str1 > str2  | æ£€æŸ¥str1æ˜¯å¦æ¯”str2å¤§   |
  | -n str1      | æ£€æŸ¥str1çš„é•¿åº¦æ˜¯å¦é0  |
  | -z str1      | æ£€æŸ¥str1çš„é•¿åº¦æ˜¯å¦ä¸º0  |
- testæ–‡ä»¶æ¯”è¾ƒ
  | æ¯”è¾ƒ            | æè¿°                                     |
  |-----------------+------------------------------------------|
  | -d file         | æ£€æŸ¥fileæ˜¯å¦å­˜åœ¨å¹¶æ˜¯ä¸€ä¸ªç›®å½•             |
  | -e file         | æ£€æŸ¥fileæ˜¯å¦å­˜åœ¨                         |
  | -f file         | æ£€æŸ¥fileæ˜¯å¦å­˜åœ¨å¹¶æ˜¯ä¸€ä¸ªæ–‡ä»¶             |
  | -r file         | æ£€æŸ¥fileæ˜¯å¦å­˜åœ¨å¹¶å¯è¯»                   |
  | -s file         | æ£€æŸ¥fileæ˜¯å¦å­˜åœ¨å¹¶éç©º                   |
  | -d file         | æ£€æµ‹fileæ˜¯å¦æ˜¯ä¸€ä¸ªç›®å½•                   |
  | -w filed        | æ£€æŸ¥fileæ˜¯å¦å­˜åœ¨å¹¶å¯å†™                   |
  | -x file         | æ£€æŸ¥fileæ˜¯å¦å­˜åœ¨å¹¶å¯æ‰§è¡Œ                 |
  | -O file         | æ£€æŸ¥fileæ˜¯å¦å­˜åœ¨å¹¶å±å½“å‰ç”¨æˆ·æ‰€æœ‰         |
  | -G file         | æ£€æŸ¥fileæ˜¯å¦å­˜åœ¨å¹¶ä¸”é»˜è®¤ç»„ä¸å½“å‰ç”¨æˆ·ç›¸åŒ |
  | file1 -nt file2 | æ£€æŸ¥file1æ˜¯å¦æ¯”file2æ–°                   |
  | file1 -ot file2 | æ£€æŸ¥file1æ˜¯å¦æ¯”file2æ—§                   |
- testé€»è¾‘è¿ç®—
  | é€‰é¡¹                       | æè¿°                                                                     |
  |----------------------------+--------------------------------------------------------------------------|
  | expression1 -a expression  | é€»è¾‘ä¸ï¼Œè¡¨è¾¾å¼ expression1 å’Œ expression2 éƒ½æˆç«‹ï¼Œæœ€ç»ˆçš„ç»“æœæ‰æ˜¯æˆç«‹çš„ã€‚ |
  | expression1 -o expression2 | é€»è¾‘æˆ–ï¼Œè¡¨è¾¾å¼ expression1 å’Œ expression2 æœ‰ä¸€ä¸ªæˆç«‹ï¼Œæœ€ç»ˆçš„ç»“æœå°±æˆç«‹ã€‚ |
  | !expression                | é€»è¾‘éï¼Œå¯¹ expression è¿›è¡Œå–åã€‚                                                                         |
**** å¤åˆæ¡ä»¶æµ‹è¯•
ifè¯­å¥æ”¯æŒä½¿ç”¨å¸ƒå°”å€¼è¿›è¡Œå¤åˆæµ‹è¯•
#+begin_example
if  [ condition1 ] && [ condition2 ]
then
...
fi


if  [ condition1 ] || [ condition2 ]
then
...
fi
#+end_example
**** ifé«˜çº§ç‰¹å¾
- ä½¿ç”¨åŒæ‹¬å·
  åŒæ‹¬å·å¯ä»¥ç†è§£ä¸ºæ˜¯testæ•°å€¼æ£€æµ‹çš„å‡çº§ç‰ˆ,åœ¨åŒæ‹¬å·å†…ä¸ä»…å¯ä»¥ä½¿ç”¨testçš„æ•°å€¼æ£€æµ‹
  èƒ½ä½¿ç”¨çš„è¡¨è¾¾å¼
  è¿˜èƒ½ä½¿ç”¨ä¸€äº›å…¶ä»–å¸¸ç”¨çš„è¿ç®—ç¬¦
  | ç¬¦å·   | åŠŸèƒ½     |
  |--------+----------|
  | val++  | åå¢     |
  | val--  | åå‡     |
  | ++val  | å…ˆå¢     |
  | --val  | å…ˆå‡     |
  | !      | é€»è¾‘æ±‚å |
  | ~      | ä½æ±‚å   |
  | \**    | å¹‚è¿ç®—   |
  | <<     | å·¦ä½ç§»   |
  | >>     | å³ä½ç§»   |
  | &      | ä½å¸ƒå°”å’Œ |
  | ç«–çº¿   | ä½å¸ƒå°”æˆ– |
  | &&     | é€»è¾‘å’Œ   |
  | åŒç«–çº¿ | é€»è¾‘æˆ–   |
- åŒæ–¹æ‹¬å·
  åŒæ‹¬å·åªèƒ½å¯¹è¿›è¡Œæ•°å­¦è¡¨è¾¾æ˜¯è¿ç®—,é€šä¿—æ¥è¯´å°±æ˜¯è¿ç®—å¯¹è±¡åªèƒ½æ˜¯æ•°å€¼
  è€ŒåŒæ–¹æ‹¬å·åˆ™æ˜¯testæ£€æµ‹å­—ç¬¦ä¸²çš„å‡çº§
  å®ƒæä¾›äº†æ¨¡å¼åŒ¹é…åŠŸèƒ½,å¹¶ä¸”å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…
**** caseå‘½ä»¤
å…¶åŠŸèƒ½ç±»ä¼¼äºswitch
#+begin_src shell
case v in
p1 | p2) commands1;;
p3) commands2;;
*) default commands;;
esac
#+end_src
å…¶å«ä¹‰ä¸ºè‹¥å˜é‡vä¸p1æˆ–p2åŒ¹é…åˆ™æ‰§è¡Œcommands1
è‹¥ä¸p3åŒ¹é…åˆ™æ‰§è¡Œcommands2
è‹¥éƒ½ä¸æ»¡è¶³åˆ™æ‰§è¡Œcommands
**** forè¯­å¥
#+begin_src shell
  list="a b c d"
    for var in list
    do
        echo "--$var"
    done
#+end_src
ä¸Šé¢è¯­å¥ä¼šè¾“å‡º
#+begin_example
--a
--b
--c
--d
#+end_example
è¿™æ˜¯å› ä¸ºforä¼šè‡ªåŠ¨å¯¹listè¿›è¡Œåˆ†å‰²,åœ¨shellä¸­å­˜åœ¨ä¸€ä¸ªIFSç¯å¢ƒå˜é‡å®šä¹‰äº†
shellç”¨ä½œå­—æ®µåˆ†éš”ç¬¦çš„ä¸€ç³»åˆ—å­—ç¬¦,é»˜è®¤æƒ…å†µä¸‹shellä¼šå°†ç©ºæ ¼,åˆ¶è¡¨ç¬¦,æ¢è¡Œç¬¦ä½œä¸ºåˆ†å‰²ç¬¦
åŒæ—¶,é€šè¿‡ä¿®æ”¹IFSå˜é‡å¯ä»¥ä¿®æ”¹åˆ†å‰²è§„åˆ™
#+begin_src shell
IFS="/"
list="a/b/c"
for val in list
do
    echo  "$val"
done
#+end_src
ä¸Šé¢ç¤ºä¾‹shellä¼šå°†'/'ä½œä¸ºåˆ†éš”ç¬¦,åŠä¼šä¾æ¬¡æ¢è¡Œè¾“å‡ºa,b,cè€Œ'//'ä½œä¸ºåˆ†éš”ç¬¦ä¸ä¼šè¾“å‡º
**** Cè¯­è¨€é£æ ¼çš„for
#+begin_src shell
for (( a = 1; a < 10; a++ ))
do
...
done
#+end_src
**** whleè¯­å¥
- ä»10è¾“å‡ºåˆ°1
      #+begin_src shell
        var1=10
          while [ $var1 -gt 0 ]
          do
          echo $var1
          var1=$[ $var1 - 1 ]
#+end_src
- whileä½¿ç”¨å¤šä¸ªæµ‹è¯•å‘½ä»¤
  #+begin_src shell
#!/bin/bash
# testing a multicommand while loop10
var1=1011
while echo $var1
[ $var1 -ge 0 ]
do
echo "This is inside the loop"
  #+end_src
  ç¤ºä¾‹ä¸­çš„whileåæœ‰ä¸¤ä¸ªæµ‹è¯•è¯­å¥,ä½†whileå°†æœ€åä¸€ä¸ªè¯­å¥çš„é€€å‡ºç åšåˆ¤æ–­
  è€Œä½äºå®ƒå‰é¢çš„è¯­å¥åªåšæ‰§è¡Œ,ä¸ç”¨åšwhileçš„åˆ¤æ–­
**** unitè¯­å¥
ä¸whileè¯­æ³•ç›¸åŒä½†ä½œç”¨ç›¸å,åªæœ‰æµ‹è¯•è¯­å¥çš„é€€å‡ºç è¿”å›0æ‰ä¼šé€€å‡ºuntil
#+begin_src shell
until   æ¡ä»¶
do
...
done
#+end_src
**** å¾ªç¯æ§åˆ¶
- break
  ä¸Cè¯­è¨€çš„breakåŠŸèƒ½ç›¸ä¼¼,ä½†shellä¸­çš„breakå¯ä»¥æŒ‡å®šå‚æ•°
  æ¥è¡¨ç¤ºé€€å‡ºçš„å¾ªç¯çš„çº§åˆ«,é»˜è®¤æ˜¯1å³é€€å‡ºå½“å‰å¾ªç¯
- continue
  ä¸Cè¯­è¨€çš„continueåŠŸèƒ½ç›¸ä¼¼,ä¸è¿‡å®ƒä¹Ÿèƒ½æŒ‡å®šå‚æ•°è¡¨ç¤ºè¦ç»§ç»­æ‰§è¡Œçš„å¾ªç¯çš„çº§åˆ«
*** å¤„ç†ç”¨æˆ·è¾“å…¥
**** å‚æ•°
åœ¨shellè„šæœ¬ä¸­ç”¨$0è¡¨è¿è¡Œçš„ç¨‹åº,$1è¡¨ç¬¬ä¸€ä¸ªå‚æ•°,$2è¡¨ç¬¬äºŒä¸ªå‚æ•°ä¾æ¬¡ç±»æ¨
**** ç‰¹æ®Šå‚æ•°å˜é‡
- $#è¡¨ç¤ºä¼ å…¥shellä¸­çš„å‚æ•°ä¸ªæ•°
- $*å’Œ$@å˜é‡å¯ä»¥ç”¨æ¥è½»æ¾è®¿é—®æ‰€æœ‰çš„å‚æ•°
  ä¸¤è€…éƒ½ä¼šå°†æ‰€æœ‰ä¼ ç»™shellçš„å˜é‡ä½œä¸ºå®ƒçš„å€¼
  $*ä¼šå°†æ‰€æœ‰ä¼ ç»™shellçš„å‚æ•°å½“ä½œæ•´ä½“å¤„ç†
  $@åˆ™å¯ä»¥å•ç‹¬å¤„ç†
  å³åœ¨ä½¿ç”¨foræ—¶,å¦‚æœå°†$*ä½œä¸ºliståˆ™ä¸ä¼šå¯¹å…¶ä¸­åŒ…å«çš„å˜é‡è¿›è¡Œæ‹†åˆ†
  è€Œ$@åˆ™å¯ä»¥
**** ç§»åŠ¨å‚æ•°
shiftå‘½ä»¤å¯ä»¥å®ç°ç§»åŠ¨å‚æ•°,å³shfitå¯ä»¥å°†æ‰€æœ‰å‚æ•°(ä¸åŒ…æ‹¬$0)å¾€å·¦ç§»åŠ¨
ä¹Ÿå°±æ˜¯ä½¿ç”¨shiftå$1çš„å€¼ä¼šç­‰äº$2,$2ä¼šç­‰äº$3,ä»¥æ­¤ç±»æ¨,è€Œ$1åˆå§‹å€¼ä¼šè¢«ä¸¢å¼ƒ
**** è·å¾—ç”¨æˆ·è¾“å…¥
åŸºæœ¬æ ¼å¼:read  name
å°†ç”¨æˆ·è¾“å…¥çš„å†…å®¹å¤åˆ¶ç»™name
*** å‘ˆç°æ•°æ®
**** æ ‡å‡†æ–‡ä»¶æè¿°ç¬¦
linuxçš„æ–‡ä»¶æè¿°ç¬¦æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œå¯ä»¥å”¯ä¸€æ ‡è¯†ä¼šè¯ä¸­æ‰“å¼€çš„æ–‡ä»¶ã€‚
æ¯ä¸ªè¿›ç¨‹ä¸€æ¬¡æœ€å¤šå¯ä»¥æœ‰ä¹ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚å‡ºäºç‰¹æ®Šç›®çš„ï¼Œbash shellä¿ç•™äº†
å‰ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦
| æ–‡ä»¶æè¿°ç¬¦ | æ‰€å†™   | æè¿°     |
|------------+--------+----------|
|          0 | STDIN  | æ ‡å‡†è¾“å…¥ |
|          1 | STDOUT | æ ‡å‡†è¾“å‡º |
|          2 | STDERR | æ ‡å‡†é”™è¯¯ |
- STDIN
  STDINæ–‡ä»¶æè¿°ç¬¦å¯¹åº”çš„é”®ç›˜è·å¾—è¾“å…¥ï¼Œåœ¨ç”¨æˆ·è¾“å…¥æ—¶å¤„ç†æ¯ä¸ªå­—ç¬¦ã€‚
  åœ¨ä½¿ç”¨è¾“å…¥é‡å®šå‘ç¬¦å·ï¼ˆ<ï¼‰æ—¶ï¼ŒLinuxä¼šç”¨é‡å®šå‘æŒ‡å®šçš„æ–‡ä»¶æ¥æ›¿æ¢æ ‡å‡†è¾“å…¥æ–‡ä»¶æè¿°ç¬¦
  ä¾‹å¦‚catå‘½ä»¤åœ¨ä¸åŠ ä»»ä½•å‚æ•°çš„æƒ…å†µä¸‹å°±ä¼šä»STDINæ¥å—è¾“å…¥,ç”¨æˆ·è¾“å…¥ä¸€è¡Œæ˜¾ç¤ºä¸€è¡Œ
  ä½†ä½ ä¹Ÿå¯ä»¥é€šè¿‡STDINé‡å®šå‘ç¬¦å·å¼ºåˆ¶catå‘½ä»¤æ¥å—æ¥è‡ªå¦ä¸€ä¸ªéSTDINæ–‡ä»¶çš„è¾“å…¥ã€‚
  ä½¿ç”¨'cat < æ–‡ä»¶å'
- STDOUT
  é»˜è®¤æƒ…å†µä¸‹STDOUTæ ‡å‡†è¾“å‡ºå°±æ˜¯æ˜¾ç¤ºå™¨,è€Œshellæ‰€æœ‰çš„æ‰€æœ‰çš„è¾“å‡º(åŒ…æ‹¬è„šæœ¬)éƒ½ä¼š
  é‡å®šå‘åˆ°STDOUTä¸­,å³ä¼šè¾“å‡ºåœ¨æ˜¾ç¤ºå™¨
  æˆ‘ä»¬å¯ä»¥é€šè¿‡'>'å¼ºåˆ¶å°†å…¶è¾“å‡ºåˆ°æŸä¸ªæ–‡ä»¶ä¸­
- STDERR
  shelläº§ç”Ÿçš„é”™è¯¯éƒ½ä¼šé‡å®šå‘åˆ°è¿™é‡Œ,è€ŒSTDERRé»˜è®¤æƒ…å†µä¸‹ä¸STDOUTæŒ‡å‘åŒä¸€ä½ç½®
  ä¹Ÿå°±æ˜¯è¯´shelläº§ç”Ÿçš„é”™è¯¯ä¹Ÿä¼šè¾“å‡ºåˆ°æ˜¾ç¤ºå™¨
**** é‡å®šå‘é”™è¯¯
- åªé‡å®šå‘é”™è¯¯
  STDERRæ–‡ä»¶æè¿°ç¬¦è¢«è®¾æˆ2ã€‚å¯ä»¥é€‰æ‹©åªé‡å®šå‘é”™è¯¯æ¶ˆæ¯ï¼Œ
  å°†è¯¥æ–‡ä»¶æè¿°ç¬¦å€¼æ”¾åœ¨é‡å®šå‘ç¬¦å·å‰ã€‚è¯¥å€¼å¿…é¡»ç´§ç´§åœ°æ”¾åœ¨é‡å®šå‘ç¬¦å·å‰ï¼Œå¦åˆ™ä¸ä¼šå·¥ä½œã€‚
  #+begin_src shell
ls  dir  2>  test
  #+end_src
  è¿™æ ·å¦‚æœdiræ–‡ä»¶å­˜åœ¨é‚£ä¹ˆæ­¤å‘½ä»¤å°±ä¸'ls dir'æ•ˆæœç›¸åŒ,
  è‹¥ä¸å­˜åœ¨åˆ™é”™è¯¯ä¸ä¼šè¾“å‡ºçš„æ˜¾ç¤ºå™¨,è€Œä¼šè¢«è¾“å‡ºçš„testæ–‡ä»¶
- é‡å®šå‘é”™è¯¯å’Œæ•°æ®
  è‹¥åªç”¨'2>'è¿›è¡Œé‡å®šå‘é‚£ä¹ˆå¯¹é”™è¯¯é‡å®šå‘,è€Œæ­£ç¡®å†…å®¹åˆ™ä»ä¼šæ˜¾ç¤ºåœ¨æ˜¾ç¤ºå™¨ä¸Š
  * ç¤ºä¾‹
    #+begin_src shell
      ls  dir1  dir2   2>  test
    #+end_src
    å‡è®¾dir1å­˜åœ¨,è€Œdir2ä¸å­˜åœ¨é‚£ä¹ˆdir1ç›®å½•çš„å†…å®¹ä¼šæ­£ç¡®æ˜¾ç¤ºåˆ°æ˜¾ç¤ºå™¨ä¸Š
    è€Œ'ls dir2'çš„é”™è¯¯ä¼šè¾“å‡ºåˆ°testæ–‡ä»¶
  è¦å®ç°æ•°æ®å’Œé”™è¯¯éƒ½é‡å®šå‘å¯ä»¥ä½¿ç”¨'&>'è¡¨æ‰€æœ‰è¾“å‡ºéƒ½ä¼šè¢«é‡å®šå‘
  æˆ–åŒæ—¶ä½¿ç”¨'1>'å’Œ'2>'è¡¨é‡å®šå‘è¾“å…¥å’Œè¾“å‡º
  #+begin_src  shell
    #è¡¨æ­£å¸¸è¾“å‡ºé‡å®šå‘åˆ°test2,é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°test1
    ls   dir1   dir2   2>  test1    1>  test2
    #æ‰€æœ‰è¾“å‡ºé‡å®šå‘åˆ°test
    ls   dir1     dir2   &>      test
  #+end_src
**** è„šæœ¬é‡å®šå‘è¾“å‡º
***** ä¸´æ—¶é‡å®šå‘
åœ¨shellè„šæœ¬ä¸­å…è®¸ä½¿ç”¨ä¸´æ—¶é‡å®šå‘æŸæ¡å‘½ä»¤
- ç¤ºä¾‹
  #+begin_src
    echo  "error message"  >&2
    echo  "normal message"
  #+end_src
  åœ¨æ­¤è„šæœ¬ä¸­'>&2'ä¸­2è¡¨ç¤ºSTDERRçš„æ–‡ä»¶æè¿°ç¬¦,
  ç¬¬ä¸€æ¡è¯­å¥è¡¨ç¤ºå°†è¯¥å‘½ä»¤é‡å®šå‘åˆ°STDERRä¸­
  ç”±äºSTDERRå’ŒSTDOUTçš„è¾“å‡ºéƒ½æŒ‡å‘æ˜¾ç¤ºå™¨,æ‰€ä»¥åœ¨æ­£å¸¸æ‰§è¡Œæ˜¯çœ‹ä¸å‡ºå·®åˆ«
  ä½†å¦‚æœå°†è¯¥è„šæœ¬æ‰§è¡Œçš„STDERRé‡å®šå‘åˆ°æŸä¸ªæ–‡ä»¶æ—¶,é‚£ä¹ˆç¬¬ä¸€æ¡è¯­å¥å°±ä¼šæ˜¾ç¤ºåœ¨æ–‡ä»¶ä¸Š,
  è€Œç¬¬äºŒæ¡è¯­å¥åˆ™ä¼šæ­£å¸¸åœ¨æ˜¾ç¤ºå™¨ä¸­æ˜¾ç¤º
***** æ°¸ä¹…é‡å®šå‘
åœ¨è„šæœ¬ä¸­ä½¿ç”¨'exec  æ–‡ä»¶æè¿°ç¬¦>æ–‡ä»¶å'å¯ä»¥é‡å®šå‘æŸä¸ªç‰¹å®šçš„æ–‡ä»¶æè¿°ç¬¦
- ç¤ºä¾‹
  #+begin_src shell
    #å°†STDERRé‡å®šå‘åˆ°test1
    exec   2>test1
    #å°†STDOUTé‡å®šå‘åˆ°test2
    exec   1>test2
  #+end_src
**** è„šæœ¬é‡å®šå‘è¾“å…¥
ä¸é‡å®šå‘è¾“å‡ºæ ¼å¼ç›¸åŒ'exec 0<filename'
è¡¨ç¤ºä»filenameä¸­è·å–è¾“å…¥è€ŒéSTDIN
**** åˆ›å»ºæ–‡ä»¶æè¿°ç¬¦
ä½¿ç”¨execå‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºæ–‡ä»¶æè¿°ç¬¦
- ç¤ºä¾‹
  åˆ›å»ºè¾“å‡ºæ–‡ä»¶æè¿°ç¬¦:exec æ–‡ä»¶æè¿°ç¬¦>filename
  åˆ›å»ºè¾“å…¥æ–‡ä»¶æè¿°ç¬¦:exec æ–‡ä»¶æè¿°ç¬¦<filename
  æ–‡ä»¶æè¿°ç¬¦é—´è¿›è¡Œæ“ä½œ:
  exec 3>&1
  exec 1>filename
å…¶å®ä¹Ÿå¯ä»¥è¿™æ ·ç†è§£å½“'exec'ç”¨äºå¯¹æ–‡ä»¶æè¿°ç¬¦åšæ“ä½œæ—¶,è‹¥æ–‡ä»¶æè¿°ç¬¦å­˜åœ¨
åˆ™è¯¥åŠŸèƒ½ä¸ºé‡å®šå‘æ–‡ä»¶æè¿°ç¬¦,å¦åˆ™ä¸ºåˆ›å»ºæ–‡ä»¶æè¿°ç¬¦]
**** å…³é—­æ–‡ä»¶æè¿°ç¬¦
è‹¥åœ¨shellä¸­è‡ªå·±åˆ›å»ºäº†æè¿°ç¬¦åˆ™åœ¨shellç»“æŸåä¼šè‡ªåŠ¨å…³é—­,
å½“ç„¶ä¹Ÿå¯ä»¥æå‰å…³é—­
- ç¤ºä¾‹
  å…³é—­è¾“å‡ºæ–‡ä»¶æè¿°ç¬¦3:exec 3>&-
**** åˆ—å‡ºæ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦
lsofå‘½ä»¤ä¼šåˆ—å‡ºæ•´ä¸ªLinuxç³»ç»Ÿæ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦,
ä½†è¿™æ•°é‡å¤ªåºå¤§äº†,æ‰€ä»¥lsofæœ‰è®¸å¤šè¿‡æ»¤å‚æ•°,ä¾‹å¦‚'-p'æŒ‡å®šè¿›ç¨‹id(pid)
'-d'æŒ‡å®šæ–‡ä»¶æ–‡ä»¶æè¿°ç¬¦çš„ç¼–å·,'-a'é€‰é¡¹å¯ä»¥æ˜¯æŒ‡å®šå‚æ•°çš„ç»“æœè¿›è¡Œandè¿ç®—
- ç¤ºä¾‹
  lsof -a -p $$ -d 0,1,2
'$'ä¸ºç‰¹æ®Šå˜é‡shellä¼šå°†å®ƒçš„å€¼è®¾ä¸ºå½“å‰pid.
å…¶å«ä¹‰ä¸ºåˆ—å‡ºæ–‡ä»¶pidä¸º'$'çš„æ–‡ä»¶æè¿°ç¬¦,å¹¶ä¸”åªåˆ—å‡ºæ–‡ä»¶æè¿°ç¬¦ä¸º0,1,2çš„
**** é˜»æ­¢å‘½ä»¤è¾“å‡º
åœ¨Linuxç³»ç»Ÿä¸Šnullæ–‡ä»¶çš„æ ‡å‡†ä½ç½®æ˜¯/dev/nullã€‚ä½ é‡å®šå‘åˆ°è¯¥ä½ç½®çš„ä»»ä½•æ•°æ®éƒ½ä¼šè¢«ä¸¢æ‰
- ç¤ºä¾‹
  ls fsd 2> //dev/null/
å…¶å«ä¹‰é€šä¿—æ¥è¯´å°±æ˜¯ä¸¢å¼ƒé”™è¯¯
*** æ§åˆ¶è„šæœ¬
**** linuxå¸¸è§ä¿¡å·
ä¸åŒçš„Linuxä¿¡å·ä»¥åŠLinuxå¦‚ä½•ç”¨è¿™äº›ä¿¡å·æ¥åœæ­¢ã€å¯åŠ¨ã€ç»ˆæ­¢è¿›ç¨‹ã€‚
å¯ä»¥é€šè¿‡å¯¹è„šæœ¬è¿›è¡Œç¼–ç¨‹ï¼Œä½¿å…¶åœ¨æ”¶åˆ°ç‰¹å®šä¿¡å·æ—¶æ‰§è¡ŒæŸäº›å‘½ä»¤ï¼Œä»è€Œæ§åˆ¶shellè„šæœ¬çš„æ“ä½œã€‚
ä»¥ä¸‹æ˜¯linuxå¸¸è§ä¿¡å·
| ä¿¡å· | å€¼      | æè¿°                           |
|------+---------+--------------------------------|
|    1 | SIGHUP  | æŒ‚èµ·è¿›ç¨‹                       |
|    2 | SIGINT  | ç»ˆæ­¢è¿›ç¨‹                       |
|    3 | SIGQUIT | åœæ­¢è¿›ç¨‹                       |
|    9 | SIGKILL | æ— æ¡ä»¶ç»ˆæ­¢è¿›ç¨‹                 |
|   15 | SIGTERM | å°½å¯èƒ½ç»ˆæ­¢è¿›ç¨‹                 |
|   17 | SIGSTOP | æ— æ¡ä»¶åœæ­¢è¿›ç¨‹ï¼Œä½†ä¸æ˜¯ç»ˆæ­¢è¿›ç¨‹ |
|   18 | SIGTSTP | åœæ­¢æˆ–æš‚åœè¿›ç¨‹ï¼Œä½†ä¸ç»ˆæ­¢       |
|   19 | SIGCONT | ç»§ç»­è¿è¡Œåœæ­¢çš„è¿›ç¨‹             |
**** ä¿¡å·ç”Ÿæˆ
- ä¸­æ–­è¿›ç¨‹
  ctrl-cä¼šäº§ç”ŸSIGINT
- åœæ­¢è¿›ç¨‹
  ctrl-zä¼šäº§ç”ŸSIGTSTPå®ƒä¼šåœæ­¢è¿›ç¨‹ä½†ä¸ä¼šç»ˆæ­¢,
  è¿›ç¨‹ä»å­˜åœ¨å†…å­˜ä¸­,å¹¶ä¸”å¯ä»¥é‡æ–°ä»ä¸Šä¸€ä¸ªåœæ­¢çš„ä½ç½®è¿è¡Œ
**** æ•è·ä¿¡å·
trapå‘½ä»¤å…è®¸ä½ æ¥æŒ‡å®šshellè„šæœ¬è¦ç›‘çœ‹å¹¶ä»shellä¸­æ‹¦æˆªçš„Linuxä¿¡å·ã€‚
å¦‚æœè„šæœ¬æ”¶åˆ°äº†trapå‘½ä»¤åˆ—å‡ºçš„ä¿¡å·,è¯¥ä¿¡å·å°†ä¸å†æœ‰shellå¤„ç†,è€Œæ˜¯äº¤ç”±æœ¬åœ°å‡ºå¤„ç†
æ ¼å¼:trap å‘½ä»¤ ä¿¡å·å€¼
- ç¤ºä¾‹
  trap ls SIGINT
è¡¨ç¤ºæ¯æ¬¡ä¸­æ–­æ˜¯éƒ½ä¼šæ‰§è¡Œ'ls'å‘½ä»¤
**** åå°è¿è¡Œ
- æ™®é€šåå°è¿è¡Œ
  åœ¨å‘½ä»¤ååŠ '&'å³å¯
- åœ¨éæ§åˆ¶å°ä¸‹è¿è¡Œè„šæœ¬
  nohup command &
  ä¸æ™®é€šåå°è¿è¡Œä¸åŒçš„æ˜¯å³æ˜¯ç»ˆç«¯è¢«å…³é—­äº†è¯¥å‘½ä»¤ä»ä¼šæ‰§è¡Œåˆ°ç»“æŸ
  å¹¶ä¸”å‘½ä»¤ä¸­å­˜åœ¨çš„è¾“å‡ºä¹Ÿä¸ä¼šè¾“å‡ºåˆ°ç»ˆç«¯,è€Œæ˜¯ä¼šåœ¨æœ¬æ–‡ä»¶å¤¹æ–°å»ºä¸€ä¸ªnohup.outçš„æ–‡ä»¶ä½œä¸ºè¾“å‡º
**** é‡å¯åœæ­¢çš„ä½œä¸š
æˆ‘ä»¬ä¸Šé¢è®²åˆ°å¯ä»¥ç”¨ctrl-zæš‚åœè¿›ç¨‹,
è€Œç»§ç»­è¯¥è¿›ç¨‹çš„å‘½ä»¤ä¸º'bg'æˆ–'fg'
bgå’Œfgåˆ†åˆ«ä¸ºåå°å’Œå‰å°å¯åŠ¨,è‹¥æ˜¯åå°å¯åŠ¨åˆ™æ“ä½œæç¤ºç¬¦ä¼šç«‹å³å‡ºç°,
å³ä½ å¯ä»¥ç«‹å³åœ¨è¯¥ç»ˆç«¯åšå…¶ä»–äº‹,è€Œå‰å°çš„è¯éœ€è¦ç­‰å‘½ä»¤ç»“æŸæ‰è¡Œ
æ ¼å¼:bg(fg) [ä½œä¸šå·]
**** linuxè°ƒåº¦
è°ƒåº¦ä¼˜å…ˆçº§æ˜¯ä¸ªæ•´æ•°å€¼ï¼Œä»-20ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰åˆ°+19ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œbash shell
ä»¥ä¼˜å…ˆçº§0æ¥å¯åŠ¨æ‰€æœ‰è¿›ç¨‹ã€‚
***** niceå‘½ä»¤
ç”¨äºå‘½ä»¤å¯åŠ¨æ—¶ä¿®æ”¹ä¼˜å…ˆçº§
- æ ¼å¼
  nice -n ä¼˜å…ˆçº§åˆ« å‘½ä»¤
  æˆ–è€…
  nice -ä¼˜å…ˆçº§åˆ«  å‘½ä»¤
æ³¨æ„æ™®é€šç”¨æˆ·ä½¿ç”¨niceå‘½ä»¤åªèƒ½å‡ä½ä¼˜å…ˆçº§,ä¸èƒ½æé«˜
***** reniceå‘½ä»¤
ç”¨äºå¯¹å·²ç»å¯åŠ¨çš„å‘½ä»¤ä¿®æ”¹å…¶ä¼˜å…ˆçº§
- æ ¼å¼
  renice -n ä¼˜å…ˆçº§åˆ« å‘½ä»¤
ä¸niceå‘½ä»¤ä¸€æ ·æ™®é€šç”¨æˆ·åªèƒ½é™ä½ä¼˜å…ˆçº§
*** å‡½æ•°
**** åˆ›å»ºå‡½æ•°
#+begin_src shell
    function name
    {
    ...
  }
    #æˆ–è€…
    name ()
    {
    ...
  }
#+end_src
**** å‡½æ•°è¿”å›å€¼
é»˜è®¤æƒ…å†µä¸‹å‡½æ•°è¿”å›å€¼ä¸ºå‡½æ•°çš„æœ€åä¸€æ¡è¯­å¥çš„é€€å‡ºç 
ä¹Ÿå¯ä»¥ä½¿ç”¨'return'è¿”å›ç‰¹å®šçš„å€¼
äº¦æˆ–æ˜¯å°†å‡½æ•°çš„è¾“å‡ºä½œä¸ºè¿”å›å€¼
**** å˜é‡ä½œç”¨åŸŸ
é»˜è®¤æƒ…å†µä¸‹,æ— è®ºå®åœ¨å¤–éƒ¨åˆ›å»ºå˜é‡,äº¦æˆ–æ˜¯å‡½æ•°å†…éƒ¨åˆ›å»ºå˜é‡éƒ½æ˜¯å…¨å±€å˜é‡
åªæœ‰åœ¨å˜é‡å‰åŠ ä¸Š'local'å…³é”®å­—æ‰ä¼šæ˜¯å˜é‡æˆä¸ºå±€éƒ¨å˜é‡
**** å‡½æ•°ä¸æ•°ç»„
***** å°†æ•°ç»„å˜é‡ä¼ é€’ç»™å‡½æ•°
åœ¨shellä¸­å¦‚æœå°†æ•´ä¸ªæ•°ç»„ä¼ é€’ç»™å‡½æ•°,é‚£ä¹ˆå‡½æ•°åªä¼šå»æ•°ç»„çš„ç¬¬ä¸€ä¸ªå€¼,
æ­£ç¡®çš„åšæ³•æ˜¯å°†æ•°ç»„æ‹†åˆ†æˆå•ä¸ªå€¼åœ¨ä¼ é€’ç»™å‡½æ•°
#+begin_src shell
  function test
  {
  fun1()
{
    local newarry=(`echo "$@"`)
    echo "${newarry[*]}"
}

myarray=(1 2 3 4)
fun1 ${myarray[*]}

}
#+end_src
**** ä»å‡½æ•°ä¸­è¿”å›æ•°ç»„
ä»å‡½æ•°é‡Œå‘shellè„šæœ¬ä¼ å›æ•°ç»„å˜é‡ä¹Ÿç”¨ç±»ä¼¼çš„æ–¹æ³•ã€‚
å‡½æ•°ç”¨echoè¯­å¥æ¥æŒ‰æ­£ç¡®é¡ºåºè¾“å‡ºå•ä¸ªæ•°ç»„å€¼ï¼Œç„¶åè„šæœ¬å†å°†å®ƒä»¬é‡æ–°æ”¾è¿›ä¸€ä¸ªæ–°çš„æ•°ç»„å˜é‡ä¸­ã€‚
**** åº“æ–‡ä»¶
åœ¨shellä¸­å…è®¸ä¸€ä¸ªè„šæœ¬ä½¿ç”¨å…¶ä»–è„šæœ¬çš„å‡½æ•°æˆ–å˜é‡,åªéœ€è¦åœ¨è„šæœ¬ä¸­å¼•å…¥å³å¯
å‡è®¾å¼•å…¥çš„è„šæœ¬åœ¨ä¸å½“å‰è„šæœ¬åœ¨åŒä¸€ç›®å½•
#+begin_src shell
  source  ./è„šæœ¬
  æˆ–è€…
  .   ./è„šæœ¬
#+end_src
æ³¨æ„:å¦‚æœåœ¨è„šæœ¬Aä¸­ç›´æ¥æ‰§è¡Œéœ€è¦å¼•å…¥çš„è„šæœ¬Bè¿™æ ·æ˜¯ä¸èƒ½ä½¿ç”¨è„šæœ¬Bä¸­çš„å‡½æ•°æˆ–å˜é‡çš„
å› ä¸ºä½†ä½ åœ¨è„šæœ¬Aä¸­æ‰§è¡Œå¼•å…¥çš„è„šæœ¬Bæ—¶,shellä¼šä¸ºè„šæœ¬Bä¼šåˆ›å»ºä¸€ä¸ªshellæ¥æ‰§è¡Œè¯¥è„šæœ¬
æ‰€ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•æ‰§è¡Œçš„è„šæœ¬Aå’Œè„šæœ¬Bä¸åœ¨åŒä¸€shellç¯å¢ƒä¸­,æ•…ä¸èƒ½ä½¿ç”¨è„šæœ¬Bä¸­å®šä¹‰çš„å‡½æ•°æˆ–å˜é‡
*** å›¾å½¢åŒ–æ¡Œé¢ç¯å¢ƒä¸­çš„è„šæœ¬ç¼–ç¨‹
**** åˆ›å»ºæ–‡æœ¬èœå•
ä½¿ç”¨å‡½æ•°å®ç°ç®€å•çš„èœå•åŠŸèƒ½
#+begin_src shell
#!/bin/bash

#åˆ—å‡ºèœå•é€‰é¡¹
function menu
{
    clear
    echo
    echo -e "\t\t\tSys Admin Menu\n"
    echo -e "\t1. Display disk space"
    echo -e "\t2. Display logged on users"
    echo -e "\t3. Display memory usage"
    echo -e "\t0. Exit menu\n\n"
    echo -en "\t\tEnter option: "
    #è·å–ç”¨æˆ·è¾“å…¥
    read -n 1  option
}

function diskspace
{
    clear
    df -k
}

function whoseon
{
    clear
    who
}

function menmusage
{
    clear
    cat /proc/meminfo
}

while [ 1 ]
do
menu

case $option in
    0)
        break;;
    1)
        diskspace;;
    2)
        whoseon;;
    3)
        menmusage;;
    *)
        clear
        echo "error";;
esac
echo -en "\n\npress enter to continue"
read -n 1 line
done
clear

#+end_src
ä¹Ÿå¯ä»¥ä½¿ç”¨seleceå‘½ä»¤,è¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨å¯¹é€‰é¡¹è¿›è¡Œæ’ç‰ˆäº†,selectå‘½ä»¤ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è¿›è¡Œæ’ç‰ˆ
#+begin_src shell
#!/bin/bash

#ä½¿ç”¨selectå‘½ä»¤å®ç°åˆ›å»ºèœå•

function diskspace {
clear
df -k
}
function whoseon {
clear
who
}

function memusage {
clear
cat /proc/meminfo
}


PS3="Enter option: "

select option in "Display disk space" "Display logged on users" "Display memory usage" "Exit program"
do
case $option in
"Exit program")
break ;;
"Display disk space")
diskspace ;;
"Display logged on users")
whoseon ;;
"Display memory usage")
memusage ;;
*)
clear
echo "Sorry, wrong selection";;
esac
done
clear
#+end_src
**** dialogåŒ…
åœ¨ä¸Šé¢æˆ‘åˆ¶ä½œäº†ç®€å•çš„æ–‡æœ¬èœå•,è™½ç„¶ä¹Ÿå®ç°äº†æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½,ä½†æ˜¯å¤ªè¿‡ç®€é™‹äº†
å› æ­¤ç”¨å¼€æºçˆ±å¥½è€…å¼€å‘äº†dialogåŒ…,è¯¥åŒ…èƒ½å¤Ÿç”¨ANSIè½¬ä¹‰æ§åˆ¶å­—ç¬¦åœ¨æ–‡æœ¬ç¯å¢ƒä¸­åˆ›å»ºæ ‡å‡†çš„çª—å£å¯¹è¯æ¡†ã€‚
ä½ å¯ä»¥è½»è€Œæ˜“ä¸¾åœ°å°†è¿™äº›å¯¹è¯æ¡†èå…¥è‡ªå·±çš„shellè„šæœ¬ä¸­ï¼Œå€Ÿæ­¤ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚
- dialogåŒ…å¸¸ç”¨éƒ¨ä»¶
  | éƒ¨ä»¶         | æè¿°                                               |
  |--------------+----------------------------------------------------|
  | calendar     | æä¾›é€‰æ‹©æ—¥æœŸçš„æ—¥å†                                 |
  | checklist    | æ˜¾ç¤ºå¤šä¸ªé€‰é¡¹ï¼ˆå…¶ä¸­æ¯ä¸ªé€‰é¡¹éƒ½èƒ½æ‰“å¼€æˆ–å…³é—­ï¼‰         |
  | form         | æ„å»ºä¸€ä¸ªå¸¦æœ‰æ ‡ç­¾ä»¥åŠæ–‡æœ¬å­—æ®µï¼ˆå¯ä»¥å¡«å†™å†…å®¹ï¼‰çš„è¡¨å• |
  | fselect      | æä¾›ä¸€ä¸ªæ–‡ä»¶é€‰æ‹©çª—å£æ¥æµè§ˆé€‰æ‹©æ–‡ä»¶                 |
  | gauge        | æ˜¾ç¤ºå®Œæˆçš„ç™¾åˆ†æ¯”è¿›åº¦æ¡                             |
  | infobox      | æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ï¼Œä½†ä¸ç”¨ç­‰å¾…å›åº”                       |
  | inputbox     | æä¾›ä¸€ä¸ªè¾“å…¥æ–‡æœ¬ç”¨çš„æ–‡æœ¬è¡¨å•                       |
  | inputmenu    | æä¾›ä¸€ä¸ªå¯ç¼–è¾‘çš„èœå•                               |
  | menu         | æ˜¾ç¤ºå¯é€‰æ‹©çš„ä¸€ç³»åˆ—é€‰é¡¹                             |
  | msgbox       | æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ï¼Œå¹¶è¦æ±‚ç”¨æˆ·é€‰æ‹©OKæŒ‰é’®                 |
  | pause        | æ˜¾ç¤ºä¸€ä¸ªè¿›åº¦æ¡æ¥æ˜¾ç¤ºæš‚å®šæœŸé—´çš„çŠ¶æ€                 |
  | passwordbox  | æ˜¾ç¤ºä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œä½†ä¼šéšè—è¾“å…¥çš„æ–‡æœ¬                 |
  | passwordform | æ˜¾ç¤ºä¸€ä¸ªå¸¦æ ‡ç­¾å’Œéšè—æ–‡æœ¬å­—æ®µçš„è¡¨å•                 |
  | radiolist    | æä¾›ä¸€ç»„èœå•é€‰é¡¹ï¼Œä½†åªèƒ½é€‰æ‹©å…¶ä¸­ä¸€ä¸ª               |
  | tailbox      | ç”¨tailå‘½ä»¤åœ¨æ»šåŠ¨çª—å£ä¸­æ˜¾ç¤ºæ–‡ä»¶çš„å†…å®¹               |
  | tailboxbg    | è·Ÿtailboxä¸€æ ·ï¼Œä½†æ˜¯åœ¨åå°æ¨¡å¼ä¸­è¿è¡Œ                |
  | textbox      | åœ¨æ»šåŠ¨çª—å£ä¸­æ˜¾ç¤ºæ–‡ä»¶çš„å†…å®¹                         |
  | timebox      | æä¾›ä¸€ä¸ªé€‰æ‹©å°æ—¶ã€åˆ†é’Ÿå’Œç§’æ•°çš„çª—å£                 |
  | yesno        | æä¾›ä¸€æ¡å¸¦æœ‰Yeså’ŒNoæŒ‰é’®çš„ç®€å•æ¶ˆæ¯                  |
ä½¿ç”¨æ–¹å¼:
dialog --widget para
å…¶ä¸­widgetçš„å€¼å¯ä»¥æ˜¯ä¸Šé¢è¡¨æ ¼ä¸­çš„ä»»æ„ä¸€ä¸ª,paraåˆ™æ˜¯widgetçš„å‚æ•°æ¯”å¦‚è¯´è¦æ˜¾ç¤ºçš„å®½åº¦,é«˜åº¦ä¹‹ç±»çš„
dialogæ¯ä¸ªéƒ¨ä»¶éƒ½æä¾›ä¸¤ç§è¾“å‡ºæ–°å¼
1. ä½¿ç”¨STDERR
2. ä½¿ç”¨é€€å‡ºçŠ¶æ€ç 
dialogé€€å‡ºç é€šå¸¸ç”¨æ¥ç¡®å®šç”¨æˆ·é€‰æ‹©çš„æŒ‰é’®,æ¯”å¦‚é€‰æ‹©yesä¼šè¿”å›é€€å‡ºç 0
é€‰æ‹©noä¼šè¿”å›é€€å‡ºç 1,é€šè¿‡$?å¯è·å¾—è¿”å›çš„é€€å‡ºç 
è€Œdialogçš„éƒ¨ä»¶å¦‚æœè¿”å›äº†æ•°æ®åˆ™ä¼šè¢«å‘é€åˆ°STDERR
dialogä¸ä»…æä¾›äº†åŸºç¡€çš„éƒ¨ä»¶,åŒæ—¶è¿˜æä¾›äº†ä¸€äº›é€‰é¡¹ä½¿å¾—éƒ¨ä»¶çš„åŠŸèƒ½å’Œå¤–è§‚èƒ½å¤Ÿæ›´å®Œå–„
- dialogé€‰é¡¹
  | é€‰é¡¹                     | æè¿°                                                             |
  |--------------------------+------------------------------------------------------------------|
  | --add-widget             | ç»§ç»­ä¸‹ä¸ªå¯¹è¯æ¡†ï¼Œç›´åˆ°æŒ‰ä¸‹Escæˆ–CancelæŒ‰é’®                          |
  | --aspect ratio           | æŒ‡å®šçª—å£å®½åº¦å’Œé«˜åº¦çš„å®½é«˜æ¯”                                       |
  | --backtitle title        | æŒ‡å®šæ˜¾ç¤ºåœ¨å±å¹•é¡¶éƒ¨èƒŒæ™¯ä¸Šçš„æ ‡é¢˜                                   |
  | --begin x y              | æŒ‡å®šçª—å£å·¦ä¸Šè§’çš„èµ·å§‹ä½ç½®                                         |
  | --cancel-label label     | æŒ‡å®šCancelæŒ‰é’®çš„æ›¿ä»£æ ‡ç­¾                                         |
  | --clear                  | ç”¨é»˜è®¤çš„å¯¹è¯èƒŒæ™¯è‰²æ¥æ¸…ç©ºå±å¹•å†…å®¹                                 |
  | --colors                 | åœ¨å¯¹è¯æ–‡æœ¬ä¸­åµŒå…¥ANSIè‰²å½©ç¼–ç                                      |
  | --cr-wrap                | åœ¨å¯¹è¯æ–‡æœ¬ä¸­å…è®¸ä½¿ç”¨æ¢è¡Œç¬¦å¹¶å¼ºåˆ¶æ¢è¡Œ                             |
  | --create-rc file         | å°†ç¤ºä¾‹é…ç½®æ–‡ä»¶çš„å†…å®¹å¤åˆ¶åˆ°æŒ‡å®šçš„fileæ–‡ä»¶ä¸­â‘                      |
  | --defaultno              | å°†yes/noå¯¹è¯æ¡†çš„é»˜è®¤ç­”æ¡ˆè®¾ä¸ºNo                                   |
  | --default-item string    | è®¾å®šå¤é€‰åˆ—è¡¨ã€è¡¨å•æˆ–èœå•å¯¹è¯ä¸­çš„é»˜è®¤é¡¹                           |
  | --exit-label label       | æŒ‡å®šExitæŒ‰é’®çš„æ›¿ä»£æ ‡ç­¾                                           |
  | --extra-button           | åœ¨OKæŒ‰é’®å’ŒCancelæŒ‰é’®ä¹‹é—´æ˜¾ç¤ºä¸€ä¸ªé¢å¤–æŒ‰é’®                         |
  | --extra-label label      | æŒ‡å®šé¢å¤–æŒ‰é’®çš„æ›¿ä»£æ ‡ç­¾                                           |
  | --help                   | æ˜¾ç¤ºdialogå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯                                         |
  | --help-button            | åœ¨OKæŒ‰é’®å’ŒCancelæŒ‰é’®åæ˜¾ç¤ºä¸€ä¸ªHelpæŒ‰é’®                           |
  | --help-label label       | æŒ‡å®šHelpæŒ‰é’®çš„æ›¿ä»£æ ‡ç­¾                                           |
  | --help-status            | å½“é€‰å®šHelpæŒ‰é’®åï¼Œåœ¨å¸®åŠ©ä¿¡æ¯åå†™å…¥å¤šé€‰åˆ—è¡¨ã€å•é€‰åˆ—è¡¨æˆ–è¡¨å•ä¿¡æ¯   |
  | --ignore                 | å¿½ç•¥dialogä¸èƒ½è¯†åˆ«çš„é€‰é¡¹                                         |
  | --input-fd fd            | æŒ‡å®šSTDINä¹‹å¤–çš„å¦ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦                                  |
  | --insecure               | åœ¨passwordéƒ¨ä»¶ä¸­é”®å…¥å†…å®¹æ—¶æ˜¾ç¤ºæ˜Ÿå·                               |
  | --item-help              | ä¸ºå¤šé€‰åˆ—è¡¨ã€å•é€‰åˆ—è¡¨æˆ–èœå•ä¸­çš„æ¯ä¸ªæ ‡å·åœ¨å±å¹•çš„åº•éƒ¨æ·»åŠ ä¸€ä¸ªå¸®åŠ©æ  |
  | --keep-window            | ä¸è¦æ¸…é™¤å±å¹•ä¸Šæ˜¾ç¤ºè¿‡çš„éƒ¨ä»¶                                       |
  | --max-input size         | æŒ‡å®šè¾“å…¥çš„æœ€å¤§å­—ç¬¦ä¸²é•¿åº¦ã€‚é»˜è®¤ä¸º2048                             |
  | --nocancel               | éšè—CancelæŒ‰é’®                                                   |
  | --no-collapse            | ä¸è¦å°†å¯¹è¯æ–‡æœ¬ä¸­çš„åˆ¶è¡¨ç¬¦è½¬æ¢æˆç©ºæ ¼                               |
  | --no-kill                | å°†tailboxbgå¯¹è¯æ”¾åˆ°åå°ï¼Œå¹¶ç¦æ­¢è¯¥è¿›ç¨‹çš„SIGHUPä¿¡å·                |
  | --no-label label         | ä¸ºNoæŒ‰é’®æŒ‡å®šæ›¿ä»£æ ‡ç­¾                                             |
  | --no-shadow              | ä¸è¦æ˜¾ç¤ºå¯¹è¯çª—å£çš„é˜´å½±æ•ˆæœ                                       |
  | --ok-label label         | æŒ‡å®šOKæŒ‰é’®çš„æ›¿ä»£æ ‡ç­¾                                             |
  | --output-fd fd           | æŒ‡å®šé™¤STDERRä¹‹å¤–çš„å¦ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶æè¿°ç¬¦                           |
  | --print-maxsize          | å°†å¯¹è¯çª—å£çš„æœ€å¤§å°ºå¯¸æ‰“å°åˆ°è¾“å‡ºä¸­                                 |
  | --print-size             | å°†æ¯ä¸ªå¯¹è¯çª—å£çš„å¤§å°æ‰“å°åˆ°è¾“å‡ºä¸­                                 |
  | --print-version          | å°†dialogçš„ç‰ˆæœ¬å·æ‰“å°åˆ°è¾“å‡ºä¸­                                     |
  | --separate-output        | ä¸€æ¬¡ä¸€è¡Œåœ°è¾“å‡ºchecklistéƒ¨ä»¶çš„ç»“æœï¼Œä¸ä½¿ç”¨å¼•å·                    |
  | --separator string       | æŒ‡å®šç”¨äºåˆ†éš”éƒ¨ä»¶è¾“å‡ºçš„å­—ç¬¦ä¸²                                     |
  | --separate-widget string | æŒ‡å®šç”¨äºåˆ†éš”éƒ¨ä»¶è¾“å‡ºçš„å­—ç¬¦ä¸²                                     |
  | --shadow                 | åœ¨æ¯ä¸ªçª—å£çš„å³ä¸‹è§’ç»˜åˆ¶é˜´å½±                                       |
  | --single-quoted          | éœ€è¦æ—¶å¯¹å¤šé€‰åˆ—è¡¨çš„è¾“å‡ºé‡‡ç”¨å•å¼•å·                                 |
  | --sleep sec              | åœ¨å¤„ç†å®Œå¯¹è¯çª—å£ä¹‹åå»¶è¿ŸæŒ‡å®šçš„ç§’æ•°                               |
  | --stderr                 | å°†è¾“å‡ºå‘é€åˆ°STDERRï¼ˆé»˜è®¤è¡Œä¸ºï¼‰                                   |
  | --stdout                 | å°†è¾“å‡ºå‘é€åˆ°STDOUT                                               |
  | --tab-correct            | å°†åˆ¶è¡¨ç¬¦è½¬æ¢æˆç©ºæ ¼                                               |
  | --tab-len n              | æŒ‡å®šä¸€ä¸ªåˆ¶è¡¨ç¬¦å ç”¨çš„ç©ºæ ¼æ•°ï¼ˆé»˜è®¤ä¸º8ï¼‰                            |
  | --timeout sec            | æŒ‡å®šæ— ç”¨æˆ·è¾“å…¥æ—¶ï¼Œsecç§’åé€€å‡ºå¹¶è¿”å›é”™è¯¯ä»£ç                       |
  | --title title            | æŒ‡å®šå¯¹è¯çª—å£çš„æ ‡é¢˜                                               |
  | --trim                   | ä»å¯¹è¯æ–‡æœ¬ä¸­åˆ é™¤å‰å¯¼ç©ºæ ¼å’Œæ¢è¡Œç¬¦                                 |
  | --visit-items            | ä¿®æ”¹å¯¹è¯çª—å£ä¸­åˆ¶è¡¨ç¬¦çš„åœç•™ä½ç½®ï¼Œä½¿å…¶åŒ…æ‹¬é€‰é¡¹åˆ—è¡¨                 |
  | --yes-label label        | ä¸ºYesæŒ‰é’®æŒ‡å®šæ›¿ä»£æ ‡ç­¾                                            |
**** å…¶ä»–å›¾å½¢çª—å£éƒ¨ä»¶åŒ…
ç”±äºdialogåŒ…åªæä¾›éå¸¸åŸºç¡€çš„åŠŸèƒ½,å¹¶ä¸”ç•Œé¢ä»ä¸å¤Ÿç¾è§‚
æ‰€ä»¥å„å¤§æ¡Œé¢ç¯å¢ƒåŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨è‡ªå·±å¼€å‘çš„çª—å£éƒ¨ä»¶åŒ…
åƒkde,gnomeå°±åˆ†åˆ«ä½¿ç”¨äº†kdialogå’ŒzenityåŒ…
å…¶å®ä¸¤è€…éƒ½æ˜¯åœ¨dialogçš„æ€è·¯ä¸Šæ‰©å±•çš„,ç›¸è¾ƒäºdialogå¯èƒ½kdialogå’Œzenityçš„åŠŸèƒ½å¯èƒ½ä¼š
æ›´ä¸ºå¼ºå¤§,ä¸”ç•Œé¢æ›´åŠ ç¾è§‚.ä½†ä½¿ç”¨æ–¹å¼åŸºæœ¬ä¸Šéƒ½æ˜¯ç›¸ä¼¼çš„
*** sedå’Œgawk
**** sedä»‹ç»
sedç¼–è¾‘å™¨è¢«ç§°ä½œæµç¼–è¾‘å™¨(stream editor),æµç¼–è¾‘å™¨åˆ™ä¼šåœ¨ç¼–è¾‘å™¨å¤„ç†æ•°æ®ä¹‹å‰åŸºäºé¢„å…ˆæä¾›çš„ä¸€ç»„è§„åˆ™æ¥ç¼–è¾‘æ•°æ®æµã€‚
sedç¼–è¾‘å™¨å¯ä»¥æ ¹æ®å‘½ä»¤æ¥å¤„ç†æ•°æ®æµä¸­çš„æ•°æ®ï¼Œ
- sedç¼–è¾‘å™¨å·¥ä½œæ–¹å¼
  1. ä¸€æ¬¡ä»è¾“å…¥ä¸­è¯»å–ä¸€è¡Œæ•°æ®ã€‚
  2. æ ¹æ®æ‰€æä¾›çš„ç¼–è¾‘å™¨å‘½ä»¤åŒ¹é…æ•°æ®ã€‚
  3. æŒ‰ç…§å‘½ä»¤ä¿®æ”¹æµä¸­çš„æ•°æ®ã€‚
  4. å°†æ–°çš„æ•°æ®è¾“å‡ºåˆ°STDOUTã€‚
- sedä½¿ç”¨çš„åŸºæœ¬æ ¼å¼
  sed option script file
- sedå‘½ä»¤é€‰é¡¹
  | é€‰é¡¹      | æè¿°                                                 |
  |-----------+------------------------------------------------------|
  | -e script | åœ¨å¤„ç†è¾“å…¥æ—¶ï¼Œå°†scriptä¸­æŒ‡å®šçš„å‘½ä»¤æ·»åŠ åˆ°å·²æœ‰çš„å‘½ä»¤ä¸­ |
  | -f file   | åœ¨å¤„ç†è¾“å…¥æ—¶ï¼Œå°†fileä¸­æŒ‡å®šçš„å‘½ä»¤æ·»åŠ åˆ°å·²æœ‰çš„å‘½ä»¤ä¸­   |
  | -n        | ä¸äº§ç”Ÿå‘½ä»¤è¾“å‡ºï¼Œä½¿ç”¨printå‘½ä»¤æ¥å®Œæˆè¾“å‡º              |
      - ç¤ºä¾‹
        echo "this is a test" | sed "s/test/aa/"
        æˆ–ä½¿ç”¨ sed "s/test/aa/" æŸä¸ªæ–‡ä»¶
        å…¶ä¸­sedåå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦'s'è¡¨ç¤ºä½¿ç”¨sedçš„'s'å‘½ä»¤,så‘½ä»¤ä¼šç”¨æ–œçº¿é—´æŒ‡å®šçš„ç¬¬äºŒä¸ªæ–‡æœ¬å­—ç¬¦ä¸²æ¥æ›¿æ¢ç¬¬
        ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²æ¨¡å¼.
        å…¶å«ä¹‰ä¸ºå°†"this is a test"ä¸­çš„'test'æ›¿æ¢ä¸º'aa'
        æ³¨æ„'s'å‘½ä»¤åªä¼šæ›¿æ¢æ¯è¡Œç¬¬ä¸€ä¸ªå‡ºç°çš„å­—ç¬¦ä¸²
        å¦‚æœä¸Šè¿°å‘½ä»¤æ˜¯:echo "this is a test test" | sed "s/test/aa/"
        é‚£ä¹ˆè¾“å‡ºå°†ä¼šæ˜¯"this is a aa test"è€Œä¸æ˜¯"this is a aa aa"
        ä½¿ç”¨å¤šä¸ªå‘½ä»¤:sed -e "s/test/aa/;s/dog/cat" data.txt
        ä½¿ç”¨æ–‡ä»¶å†…å®¹ä½œä¸ºå‘½ä»¤:sed -f æ–‡ä»¶å data.txt
**** gawkä»‹ç»
gawkç¨‹åºæ˜¯Unixä¸­çš„åŸå§‹awkç¨‹åºçš„GNUç‰ˆæœ¬.å®ƒæä¾›äº†ä¸€ç§ç¼–ç¨‹è¯­è¨€è€Œä¸åªæ˜¯ç¼–è¾‘å™¨å‘½ä»¤
gawkå’Œsedä¸€æ ·æ˜¯å±äºæµç¼–è¾‘å™¨,å› æ­¤gawkæ¯æ¬¡ä¹Ÿåªä¼šè¯»å–ä¸€è¡Œå†…å®¹
- ä½¿ç”¨gawkå¯ä»¥å®ç°
  + å®šä¹‰å˜é‡æ¥ä¿å­˜æ•°æ®ï¼›
  + ä½¿ç”¨ç®—æœ¯å’Œå­—ç¬¦ä¸²æ“ä½œç¬¦æ¥å¤„ç†æ•°æ®ï¼›
  + ä½¿ç”¨ç»“æ„åŒ–ç¼–ç¨‹æ¦‚å¿µï¼ˆæ¯”å¦‚if-thenè¯­å¥å’Œå¾ªç¯ï¼‰æ¥ä¸ºæ•°æ®å¤„ç†å¢åŠ å¤„ç†é€»è¾‘ï¼›
  + é€šè¿‡æå–æ•°æ®æ–‡ä»¶ä¸­çš„æ•°æ®å…ƒç´ ï¼Œå°†å…¶é‡æ–°æ’åˆ—æˆ–æ ¼å¼åŒ–ï¼Œç”Ÿæˆæ ¼å¼åŒ–æŠ¥å‘Šã€‚
- gawkæ ¼å¼
  gawk option program file
  é€‰é¡¹
  | é€‰é¡¹         | æè¿°                               |
  |--------------+------------------------------------|
  | -F fs        | æŒ‡å®šè¡Œä¸­åˆ’åˆ†æ•°æ®å­—æ®µçš„å­—æ®µåˆ†éš”ç¬¦   |
  | -f file      | ä»æŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–ç¨‹åº             |
  | -v var=value | å®šä¹‰gawkç¨‹åºä¸­çš„ä¸€ä¸ªå˜é‡åŠå…¶é»˜è®¤å€¼ |
  | -mf N        | æŒ‡å®šè¦å¤„ç†çš„æ•°æ®æ–‡ä»¶ä¸­çš„æœ€å¤§å­—æ®µæ•° |
  | -mr N        | æŒ‡å®šæ•°æ®æ–‡ä»¶ä¸­çš„æœ€å¤§æ•°æ®è¡Œæ•°       |
  | -W keyword   | æŒ‡å®šgawkçš„å…¼å®¹æ¨¡å¼æˆ–è­¦å‘Šç­‰çº§       |
- gawkä¸­çš„æ•°æ®å­—æ®µå˜é‡
  $0ä»£è¡¨æ•´ä¸ªæ–‡æœ¬è¡Œ
  $1ä»£è¡¨æ–‡æœ¬è¡Œä¸­ç¬¬ä¸€ä¸ªæ•°æ®æ®µ
  $2ä»£è¡¨æ–‡æœ¬è¡Œä¸­ç¬¬äºŒä¸ªæ•°æ®æ®µ
  $nä»£è¡¨æ–‡æœ¬è¡Œä¸­ç¬¬nä¸ªæ•°æ®æ®µ
**** sedåŸºç¡€
***** æ›¿æ¢æ ‡è®°
åœ¨å‰é¢æ¼”ç¤ºçš„'s'é€‚ç”¨äºæ›¿æ¢æ–‡æœ¬,åŒæ—¶å®ƒè¿˜æ”¯æŒæ›¿æ¢æ ‡è®°
- æ ¼å¼
  s/åŒ¹é…å­—ç¬¦/æ›¿æ¢çš„æ–‡æœ¬/æ›¿æ¢æ ‡è®°
ä¸åŠ æ›¿æ¢æ ‡è®°é»˜è®¤æ˜¯æ›¿æ¢æ¯è¡Œç¬¬ä¸€ä¸ªå‡ºç°çš„åŒ¹é…å­—ç¬¦ä¸²
- æ›¿æ¢æ ‡è®°
  | æ›¿æ¢æ ‡è®° | åŠŸèƒ½                                   |
  |----------+----------------------------------------|
  | æ•°å­—     | è¡¨æ˜æ–°æ–‡æœ¬å°†æ›¿æ¢ç¬¬å‡ å¤„æ¨¡å¼åŒ¹é…çš„åœ°æ–¹ï¼› |
  | g        | è¡¨æ˜æ–°æ–‡æœ¬å°†ä¼šæ›¿æ¢æ‰€æœ‰åŒ¹é…çš„æ–‡æœ¬ï¼›     |
  | p        | è¡¨æ˜åŸå…ˆè¡Œçš„å†…å®¹è¦æ‰“å°å‡ºæ¥ï¼›           |
  | w file   | å°†æ›¿æ¢çš„ç»“æœå†™åˆ°æ–‡ä»¶ä¸­ã€‚               |
- åœ°å€
  åœ¨sedçš„æ“ä½œä¸­å…è®¸æŒ‡å®šå¯¹æŸè¡Œæˆ–æŸäº›è¡Œè¿›è¡Œæ“ä½œ,è¿™ç§æ“ä½œè¢«ç§°ä½œ'è¡Œå¯»å€',é€šå¸¸æœ‰ä¸¤ç§å¯»å€æ–¹å¼
  1. ä»¥æ•°å­—å½¢å¼è¡¨ç¤ºè¡ŒåŒºé—´
     + åªä¿®æ”¹æŒ‡å®šè¡Œå†…å®¹
       sed '2s/dog/cat/' data.txt
       åªä¿®æ”¹ç¬¬2è¡Œå†…å®¹
     + ä½¿ç”¨åŒºé—´
       sed '2,5s/dog/cat/' data.txt
       ä¿®æ”¹ç¬¬2-5è¡Œçš„å†…å®¹
     + ä»æŸè¡Œåˆ°ç»“å°¾
       sed '2,$/dog/cat/' data.txt
       ä½¿ç”¨$å¯è¡¨ç¤ºä¸ºåˆ°æ–‡ä»¶ç»“å°¾ä½ç½®
  2. ç”¨æ–‡æœ¬æ¨¡å¼è¿‡æ»¤å‡ºè¡Œ
     sed '//the/s/cat/dog//' data.txt
     è¡¨ç¤ºåªä¿®æ”¹å«'the'çš„è¡Œ,å…¶ä¸­'the'è¿™ä¸ªä½ç½®ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼
***** åˆ é™¤æ“ä½œ
å‰é¢è®²çš„'s'æ˜¯æ›¿æ¢å‘½ä»¤,è€Œ'd'åˆ™æ˜¯sedçš„åˆ é™¤å‘½ä»¤
sed 'd' data.txt
ä¸åŠ å‚æ•°ä¼šå°†æ‰€ä»¥å†…å®¹åˆ é™¤
æ‰€ä»¥å‘½ä»¤'d'ä¸€èˆ¬ä¼šä¸åœ°å€ä¸€èµ·ä½¿ç”¨,å¹¶ä¸”å…¶ä½¿ç”¨æ–¹å¼ä¸æ›¿æ¢çš„å‡ ä¹ç›¸åŒ
éœ€è¦æ³¨æ„çš„æ˜¯å½“ä½¿ç”¨äº†ä¸¤ä¸ªæ–‡æœ¬åŒ¹é…æ—¶,ç¬¬ä¸€ä¸ªæ–‡æœ¬åŒ¹é…ä»£è¡¨å¼€å¯åˆ é™¤æ¨¡å¼,
è€Œç¬¬äºŒä¸ªåˆ™ä»£è¡¨å…³é—­åˆ é™¤æ¨¡å¼
ä¾‹å¦‚
#+begin_example data.txt
This is line number 1.
This is line number 2.
This is line number 3.
This is line number 4.
This is line number 1 again.
This is text you want to keep.
This is the last line in the file.
#+end_example
å½“å¯¹ä¸Šé¢æ–‡ä»¶è¿›è¡Œä¸‹é¢çš„æ“ä½œæ—¶,å…¶è¿‡ç¨‹æ˜¯:
ç¬¬ä¸€è¡Œæœ‰1ä¸å‘½ä»¤ä¸­çš„æ¨¡å¼ç›¸åŒ¹é…,æ•…å¼€å¯åˆ é™¤æ¨¡å¼,è€Œæ­¤æ—¶ä¸€ç›´åˆ°ç¬¬ä¸‰è¡Œåˆ é™¤æ¨¡å¼éƒ½æœªå…³é—­
æ‰€ä»¥å‰é¢3è¡Œå†…å®¹éƒ½ä¼šè¢«åˆ é™¤,åˆ°ç¬¬4è¡Œç”±äºåˆ é™¤æ¨¡å¼å·²å…³é—­å¹¶ä¸”ä¹Ÿæ²¡æœ‰åŒ¹é…æ‰€ä»¥ç¬¬4è¡Œå†…å®¹ä¿ç•™,
åˆ°ç¬¬5è¡Œæœ‰åŒ¹é…äº†æ­¤æ—¶ç”±äºä¸€ç›´åˆ°ç»“å°¾éƒ½æ²¡æœ‰ä¸æ¨¡å¼ç›¸åŒ¹é…çš„è¡Œæ¥å…³é—­åˆ é™¤æ¨¡å¼æ•…ä¼šä¸€ç›´åˆ é™¤çŸ¥é“ç»“å°¾
æ‰€ä»¥,ä¸€ä¸‹å‘½ä»¤è¾“å‡ºæ˜¯:This is line number 4
#+begin_src shell
  sed "/1./3/d" data.txt
#+end_src
***** æ’å…¥å’Œé™„åŠ æ“ä½œ
æ’å…¥å’Œé™„åŠ æ“ä½œå‘½ä»¤åˆ†åˆ«æ˜¯'i'å’Œ'a',æ’å…¥æ“ä½œçš„å†…å®¹ä¼šå‡ºç°åœ¨æµçš„å‰é¢,è€Œé™„åŠ åˆ™ä¼šå‡ºç°åœ¨æµçš„åé¢
ä¸¤è€…ä¹Ÿæ”¯æŒå¯»å€æ’å…¥å’Œé™„åŠ 
- å°†æ•°æ®æ’å…¥åˆ°ç¬¬3è¡Œå‰é¢
  sed '3i/æ’å…¥çš„æ•°æ®' data.txt
- å°†æ•°æ®é™„åŠ åˆ°ç¬¬3è¡Œåé¢
  sed '3a/è¿½åŠ çš„æ•°æ®' data.txt
***** ä¿®æ”¹æ“ä½œ
ä¿®æ”¹å‘½ä»¤æ˜¯'c',è®°å¾—ä¸æ›¿æ¢åŒºåˆ†å¼€æ¥,ä¿®æ”¹æ“ä½œæ˜¯å°†ä¸€æ•´è¡Œçš„å†…å®¹éƒ½æœ‰è¿›è¡Œä¿®æ”¹
å…¶ä½¿ç”¨æ–¹å¼ä¸æ›¿æ¢ä¸€æ ·,ä½†æ•ˆæœä¸åŒ
ä¾‹å¦‚:sed '2,5cfff' data.txt
å…¶ä½œç”¨æ˜¯å°†2-5è¡Œçš„å†…å®¹ä¿®æ”¹ä¸ºfff,è€Œä¸æ˜¯2-5è¡Œçš„æ¯è¡Œå†…å®¹éƒ½æ˜¯ä¿®æ”¹ä¸ºfff
***** è½¬æ¢å‘½ä»¤
è½¬æ¢å‘½ä»¤æ˜¯'y',å®ƒæ˜¯ä¸€ä¸ªå¤„ç†å­—ç¬¦çš„å‘½ä»¤
æ ¼å¼:[address]y/inchar/outchar/
incharåˆ°outcharå¯ç†è§£ä¸ºæ˜¯æ˜ å°„yå‘½ä»¤ä¼šå°†incharä¸­çš„å­—ç¬¦è£…æ¢ä¸ºoutcharå¯¹åº”é¢åº¦å­—ç¬¦
å³å¦‚æœæŸä¸ªå­—ç¬¦å‡ºç°åœ¨incharç¬¬ä¸€ä¸ªä½ç½®,é‚£ä¹ˆå®ƒä¹Ÿä¼šè¢«æ›¿æ¢ä¸ºoutcharçš„ç¬¬ä¸€ä¸ªä½ç½®
***** æ‰“å°å‘½ä»¤
****** æ‰“å°è¡Œå‘½ä»¤
ä¸æ›¿æ¢æ ‡è®°ä¸€æ ·,æ‰“å°å‘½ä»¤ä¹Ÿæ˜¯'p'
æ ¼å¼:[address]p
****** æ‰“å°è¡Œå·
æ ¼å¼:[address]=
****** åˆ—å‡ºè¡Œ
æ ¼å¼:[address]l
***** sedæ–‡ä»¶å¤„ç†
****** å†™å…¥æ–‡ä»¶
å‰é¢æˆ‘ä»¬æ‰€æœ‰çš„æ“ä½œå¦‚æœä¸åŠ å†™å…¥æ“ä½œçš„è¯,å…¶å®éƒ½ä¸ä¼šå¯¹æ–‡ä»¶æœ¬èº«äº§ç”Ÿä»»ä½•å½±å“
æ ¼å¼:[address]w filename
****** è¯»å–æ–‡ä»¶
è¯»å–å‘½ä»¤'r'å…è®¸ä½ å°†ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶ä¸­çš„æ•°æ®æ’å…¥åˆ°æ•°æ®æµä¸­ã€‚
æ ¼å¼:[address]r filename
ä¾‹å¦‚:sed '3r insertfile' filename
æ­¤å‘½ä»¤ä¼šå°†insertfileä¸­çš„å†…å®¹æ’å…¥åˆ°filenameçš„ç¬¬3è¡Œåé¢
*** sedè¿›é˜¶
**** nextå‘½ä»¤
***** å•è¡Œç‰ˆæœ¬next
åŠå°å†™nå‘½ä»¤,å°å†™çš„nå‘½ä»¤ä¼šå‘Šè¯‰sedç¼–è¾‘å™¨ç§»åŠ¨åˆ°æ•°æ®æµä¸­çš„ä¸‹ä¸€æ–‡æœ¬è¡Œï¼Œè€Œä¸ç”¨é‡æ–°å›åˆ°å‘½ä»¤çš„æœ€å¼€å§‹
ä¾‹å¦‚
#+begin_example data.txt
test

aaa

bbb
ccc

ddd
#+end_example
è‹¥æ­¤æ—¶æˆ‘ä»¬æƒ³åˆ é™¤testä¸‹ä¸€è¡Œçš„ç©ºè¡Œ,è€Œä¿ç•™å…¶ä»–ç©ºè¡Œæˆ‘ä»¬æ­¤æ—¶å¯ä»¥ä½¿ç”¨nå‘½ä»¤
sed '/test/{n;d}' data.txt
æ­¤å‘½ä»¤çš„æ‰§è¡Œæµç¨‹ä¸ºé¦–å…ˆæ‰¾åˆ°testæ‰€åœ¨çš„è¡Œån,ä¼šå…ˆæ‰§è¡Œnå‘½ä»¤å°†å°†æ•°æ®æµç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œ
å³æˆ‘ä»¬æƒ³åˆ é™¤çš„ç©ºè¡Œç„¶ååœ¨åšdå‘½ä»¤å°†æ•´è¡Œåˆ é™¤,è€Œç”±äºä¹‹åæ²¡æœ‰ä¸testç›¸åŒ¹é…çš„æ–‡æœ¬
æ‰€ä»¥è¯¥å‘½ä»¤åªåˆ é™¤äº†teståçš„ç©ºè¡Œ
***** åˆå¹¶æ–‡æœ¬è¡Œ
å³å¤§å†™çš„Nå‘½ä»¤,å¤šè¡Œç‰ˆæœ¬çš„nextå‘½ä»¤ï¼ˆç”¨å¤§å†™Nï¼‰ä¼šå°†ä¸‹ä¸€æ–‡
é‚£ä¸Šé¢å½“è¡Œç‰ˆæœ¬çš„ä¾‹å­æ¥è¯´,å¦‚æœæˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹å‘½ä»¤
sed '/test/{N;d}' data.txt
é‚£ä¹ˆæ­¤æ—¶testè¡Œä¹Ÿä¼šè¢«åˆ é™¤,å› ä¸ºæ­¤å‘½ä»¤æ˜¯ä¼šå°†teståŠtestä¸‹ä¸€è¡Œçš„å†…å®¹å½“ä½œæ•´ä½“å¤„ç†
æ³¨æ„å½“ä½œæ•´ä½“å¤„ç†,æ‰€ä»¥testå’Œå…¶ä¸‹ä¸€è¡Œå…¶å®è¿˜æ˜¯æœ‰æ¢è¡Œç¬¦'\n'å­˜åœ¨çš„
**** æ¨¡å¼ç©ºé—´
æ˜¯ä¸€å—æ´»è·ƒçš„ç¼“å†²åŒº,åœ¨æˆ‘ä»¬ä½¿ç”¨sedå‘½ä»¤è¯»å–æ¯è¡Œæ–‡æœ¬æ—¶,è¯¥æ–‡æœ¬å°±æ˜¯æ”¾åˆ°æ¨¡å¼ç©ºé—´çš„
**** ä¿æŒç©ºé—´
sedç¼–è¾‘å™¨çš„å¦ä¸€ä¸ªç¼“å†²åŒº,é€šå¸¸ç”¨æ¥ä¿å­˜æ¨¡å¼ç©ºé—´çš„ä¸€äº›ä¸´æ—¶ä¸œè¥¿
- å¯¹ä¿æŒç©ºé—´çš„æ“ä½œ
  | å‘½ä»¤ | æè¿°                         |
  |------+------------------------------|
  | h    | å°†æ¨¡å¼ç©ºé—´å¤åˆ¶åˆ°ä¿æŒç©ºé—´     |
  | H    | å°†æ¨¡å¼ç©ºé—´é™„åŠ åˆ°ä¿æŒç©ºé—´     |
  | g    | å°†ä¿æŒç©ºé—´å¤åˆ¶åˆ°æ¨¡å¼ç©ºé—´     |
  | G    | å°†ä¿æŒç©ºé—´é™„åŠ åˆ°æ¨¡å¼ç©ºé—´     |
  | x    | äº¤æ¢æ¨¡å¼ç©ºé—´å’Œä¿æŒç©ºé—´çš„å†…å®¹ |
**** æ’é™¤å‘½ä»¤
æ’é™¤å‘½ä»¤(!),å¯ç†è§£ä¸ºç¼–ç¨‹è¯­è¨€ä¸­çš„éæ“ä½œ,åœ¨sedä¸­å³æ˜¯æ‰§è¡ŒåŸæ¥æ“ä½œç›¸åçš„æ“ä½œ
ä¸¾ä¾‹æ¥è¯´
sed -n '/aaa/p' data.txt
å…¶å«ä¹‰ä¸ºæ‰“å°è¡Œä¸­åŒ…æ‹¬'aaa'çš„è¡Œ
è€Œè‹¥åŠ ä¸Šæ’é™¤å‘½ä»¤
sed -n '//aaa//!p' data.txt
å…¶å«ä¹‰å°±å˜æˆäº†æ‰“å°ä¸åŒ…å«'aaa'è¡Œçš„è¡Œ
**** åˆ†æ”¯
æ’é™¤å‘½ä»¤å¯æ”¯æŒå¯¹å‘½ä»¤è¿›è¡Œæ’é™¤,sedä¹Ÿæä¾›äº†åŸºäºåœ°å€è¿›è¡Œæ’é™¤çš„æ–¹å¼æˆ‘ä»¬ç§°ä½œåˆ†æ”¯(branch)
æ ¼å¼:[address]b [label]
addresså‚æ•°å†³å®šäº†å“ªäº›è¡Œçš„æ•°æ®ä¼šè§¦å‘åˆ†æ”¯å‘½ä»¤ã€‚labelå‚æ•°å®šä¹‰äº†è¦è·³è½¬åˆ°çš„ä½ç½®,å¦‚æœæ²¡æœ‰é»˜è®¤è·³è½¬åˆ°æœ«å°¾
ç¤ºä¾‹1:sed '{2,5b;s/aaa/bbb/}' data.txt
å…¶ä½œç”¨æ˜¯å°†æ¯è¡Œå‡ºç°çš„ç¬¬ä¸€ä¸ª'aaa'æ›¿æ¢ä¸º'bbb'ä½†ä¸åŒ…æ‹¬2-5è¡Œ
ç¤ºä¾‹2:sed '{//first/b jump1;s/aaa/bbb//;:jump1;s/aaa/ccc/}' data.txt
å…¶ä½œç”¨æ˜¯é‡åˆ°ä¸'first'åŒ¹é…çš„è¡Œåˆ™è·³åˆ°:jump1å‡ºæ‰§è¡Œæ¥ç€æ‰§è¡Œå‘½ä»¤,å¦åˆ™æ­£å¸¸é¡ºåºæ‰§è¡Œ
**** æµ‹è¯•å‘½ä»¤
ä¸åˆ†æ”¯å‘½ä»¤ç±»ä¼¼,ä½†æµ‹è¯•å‘½ä»¤(t)æ˜¯ä¾æ®æ›¿æ¢ç»“æœè¿›è¡Œè°ƒæ•´çš„,
å¦‚æœæˆ‘ä»¬å·²ç»åšäº†ä¸€æ¬¡æ›¿æ¢è€Œä¸éœ€è¦åœ¨åšå¦ä¸€ä¸ªæ›¿æ¢æ˜¯å°±å¯ä»¥ä½¿ç”¨æµ‹è¯•å‘½ä»¤
ä¾‹å¦‚:sed '{s/aaa/bbb/;t;s/ccc/ddd/}' data.txt
ä»¥ä¸Šå«ä¹‰å³ä¸ºè‹¥æˆ‘ä»¬åŒ¹é…åˆ°aaaåˆ™å°†å…¶æ›¿æ¢ä¸ºbbb,ç»§ç»­å‘ä¸‹æ‰§è¡Œtæ—¶,tæ£€æµ‹åˆ°å·²ç»è¿›è¡Œè¿‡ä¸€æ¬¡æ›¿æ¢äº†
tå°±ä¼šæ˜¯å‘½ä»¤è·³è½¬,ç”±äºæ­¤æ—¶tæ²¡æœ‰æŒ‡å®šæ ‡ç­¾,é‚£ä¹ˆå°±ä¼šé»˜è®¤è·³è½¬åˆ°æœ«å°¾,è€Œè‹¥ç¬¬ä¸€æ¡å‘½ä»¤æ²¡æœ‰å‘ç”Ÿæ›¿æ¢
é‚£ä¹ˆtå°±ä¸ä¼šè·³è½¬,è€Œç»§ç»­å‘ä¸‹æ‰§è¡Œ
**** &ç¬¦å·
åœ¨sedçš„æ›¿æ¢å‘½ä»¤ä¸­'&'ç¬¦å·å¯ä»¥ä»£æ›¿è¢«æ›¿æ¢çš„æ–‡æœ¬
ä¾‹å¦‚:sed 's/aaa/"&"/ data.txt
å…¶å«ä¹‰ä¸ºå°†aaaææ¢ä¸º"aaa",è¿™åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ä¹Ÿè®¸æ¯«æ— æ„ä¹‰å› ä¸ºæˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨
sed 's/aaa/"aaa"/'æ›¿ä»£,ä½†å¦‚æœè¦è¢«æ›¿æ¢çš„å†…å®¹æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,è¿™å°±æ˜¾å¾—å¾ˆæœ‰æ„ä¹‰äº†
*** gawkè¿›é˜¶
**** å†…ç½®å˜é‡
| å˜é‡        | æè¿°                                                 |
|-------------+------------------------------------------------------|
| FIELDWIDTHS | ç”±ç©ºæ ¼åˆ†éš”çš„ä¸€åˆ—æ•°å­—ï¼Œå®šä¹‰äº†æ¯ä¸ªæ•°æ®å­—æ®µç¡®åˆ‡å®½åº¦     |
| FS          | è¾“å…¥å­—æ®µåˆ†éš”ç¬¦                                       |
| RS          | è¾“å…¥è®°å½•åˆ†éš”ç¬¦                                       |
| OFS         | è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦                                       |
| ORS         | è¾“å‡ºè®°å½•åˆ†éš”ç¬¦                                       |
| ARGC        | å½“å‰å‘½ä»¤è¡Œå‚æ•°ä¸ªæ•°                                   |
| ARGIND      | å½“å‰æ–‡ä»¶åœ¨ARGVä¸­çš„ä½ç½®                               |
| ARGV        | åŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç»„                                 |
| CONVFMT     | æ•°å­—çš„è½¬æ¢æ ¼å¼ï¼ˆå‚è§printfè¯­å¥ï¼‰ï¼Œé»˜è®¤å€¼ä¸º%.6 g      |
| ENVIRON     | å½“å‰shellç¯å¢ƒå˜é‡åŠå…¶å€¼ç»„æˆçš„å…³è”æ•°ç»„                |
| ERRNO       | å½“è¯»å–æˆ–å…³é—­è¾“å…¥æ–‡ä»¶å‘ç”Ÿé”™è¯¯æ—¶çš„ç³»ç»Ÿé”™è¯¯å·           |
| FILENAME    | ç”¨ä½œgawkè¾“å…¥æ•°æ®çš„æ•°æ®æ–‡ä»¶çš„æ–‡ä»¶å                   |
| FNR         | å½“å‰æ•°æ®æ–‡ä»¶ä¸­çš„æ•°æ®è¡Œæ•°                             |
| IGNORECASE  | è®¾æˆéé›¶å€¼æ—¶ï¼Œå¿½ç•¥gawkå‘½ä»¤ä¸­å‡ºç°çš„å­—ç¬¦ä¸²çš„å­—ç¬¦å¤§å°å†™ |
| NF          | æ•°æ®æ–‡ä»¶ä¸­çš„å­—æ®µæ€»æ•°                                 |
| NR          | å·²å¤„ç†çš„è¾“å…¥è®°å½•æ•°                                   |
| OFMT        | æ•°å­—çš„è¾“å‡ºæ ¼å¼ï¼Œé»˜è®¤å€¼ä¸º%.6 g                        |
| RLENGTH     | ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­å­—ç¬¦ä¸²çš„é•¿åº¦                    |
| RSTART      | ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®                |
**** è‡ªå®šä¹‰å˜é‡
gawkä¸­çš„è‡ªå®šä¹‰å˜é‡ä¸shellä¸­çš„èµ‹å€¼è¯­å¥ç›¸åŒ
ç¤ºä¾‹:gawk 'BEGIN{var="aaa";print var}'
åŒæ—¶gawkä¹Ÿç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­å®šä¹‰å˜é‡
**** æ•°ç»„
***** å®šä¹‰æ•°ç»„
å®šä¹‰æ•°ç»„çš„æ–¹å¼ä¸å®šä¹‰å˜é‡ç±»ä¼¼
æ ¼å¼:var[index]=element
'var'ä¸ºæ•°ç»„å,indexå…³è”æ•°ç»„çš„ç´¢å¼•å€¼,è¿™ä¸ªä¸æˆ‘ä»¬å¸¸è§ç¼–ç¨‹è¯­è¨€çš„æ•°ç»„ä¸å¤ªä¸€æ ·
å¸¸è§ç¼–ç¨‹è¯­è¨€çš„indexå€¼æ˜¯æ•°å­—,è€Œåœ¨è¿™é‡Œå´ä¸ä»…å¯ä»¥æ˜¯æ•°å­—è¿˜å¯ä»¥æ˜¯å­—ç¬¦ä¸²,'element'ä¸ºå…ƒç´ 
- ä¾‹å¦‚
  capital["Illinois"] = "Springfield"
  capital["Indiana"] = "Indianapolis"
  capital["Ohio"] = "Columbus"
***** éå†æ•°ç»„
éå†æ•°ç»„å¯ä»¥ä½¿ç”¨ä¸€ç§ç‰¹æ®Šå½¢å¼çš„for
#+begin_example
$ gawk 'BEGIN{
> var["a"] = 1
> var["g"] = 2
> var["m"] = 3
> var["u"] = 4
> for (test in var)
> {
>
print "Index:",test," - Value:",var[test]
> }
> }'
Index: u - Value: 4
Index: m - Value: 3
Index: a - Value: 1
Index: g - Value: 2
$
#+end_example
***** åˆ é™¤æ•°ç»„å˜é‡
åˆ é™¤æ•°ç»„ç´¢å¼•å³å¯åˆ é™¤ç»™æ•°ç»„ç´¢å¼•çš„å€¼
æ ¼å¼:delete array[index]
**** é€šé…ç¬¦
é€šé…ç¬¦'~'å¯ä»¥æŒ‡å®šåŒ¹é…æ“ä½œç¬¦ã€æ•°æ®å­—æ®µå˜é‡ä»¥åŠè¦åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚
ä¾‹å¦‚:gawk 'BEGIN{FS=","} $2 ~ /^aa/{print $0}' data.txt
æ­¤å‘½ä»¤ä¸­$2è¡¨ç¤ºç¬¬äºŒä¸ªå­—æ®µ,è€Œä½¿ç”¨äº†é€šé…ç¬¦åå°±æ­¤å‘½ä»¤å°±è¡¨ç¤ºåŒ¹é…ç¬¬äºŒä¸ªå­—æ®µä»¥'aa'å¼€å¤´çš„æ–‡æœ¬
**** æ•°å­¦è¡¨è¾¾å¼
åœ¨gawkä¸­ä½¿ç”¨æ•°å­¦è¡¨è¾¾å¼è¿›è¡Œè¿‡æ»¤
å…¶ä½¿ç”¨æ–¹å¼ä¸å¸¸è§ç¼–ç¨‹è¯­è¨€ç±»ä¼¼,ç›´æ¥æŒ‡æ˜è¦åŒ¹é…çš„å­—æ®µå’ŒåŒ¹é…æ–¹å¼å³å¯
ä¾‹å¦‚:gawk -F: '$4==0{print $1}' /etc/passwd
è¡¨ç¤ºæ‰“å°ç¬¬4ä¸ªå­—æ®µç­‰äº0çš„æ–‡æœ¬çš„ç¬¬ä¸€ä¸ªå­—æ®µ
- å¸¸ç”¨æ•°å­¦è¡¨è¾¾å¼
  | è¡¨è¾¾å¼ | æè¿°           |
  |--------+----------------|
  | x==y   | å€¼xç­‰äºyã€‚     |
  | x <= y | å€¼xå°äºç­‰äºyã€‚ |
  | x < y  | å€¼xå°äºyã€‚     |
  | x >= y | å€¼xå¤§äºç­‰äºyã€‚ |
  | x > y  | å€¼xå¤§äºyã€‚     |
**** ç»“æ„åŒ–å‘½ä»¤
***** ifè¯­å¥
æ ¼å¼:if (condition) statement1
if (condition) statement1; else statement2
***** whileè¯­å¥
æ ¼å¼:
while (condition)
{
statements
}
***** do-whileè¯­å¥
æ ¼å¼:
do
{
statements
} while (condition)
***** forè¯­å¥
ä¸cè¯­è¨€çš„forç±»ä¼¼
æ ¼å¼:for( variable assignment; condition; iteration process)
#+begin_example
$ gawk '{
> total = 0
> for (i = 1; i < 4; i++)
> {
>
total += $i
> }
> avg = total / 3
> print "Average:",avg
> }' data5
Average: 128.333
Average: 137.667
Average: 176.667
$
#+end_example
**** æ ¼å¼åŒ–è¾“å‡º
gawkçš„æ ¼å¼åŒ–è¾“å‡ºä¸Cè¯­è¨€ç±»ä¼¼
æ ¼å¼:printf "format string", var1, var2 . . .
- æ ¼å¼åŒ–è¾“å‡ºçš„æ§åˆ¶å­—æ¯
  | æ§åˆ¶å­—æ¯ | æè¿°                                       |
  |----------+--------------------------------------------|
  | c        | å°†ä¸€ä¸ªæ•°ä½œä¸ºASCIIå­—ç¬¦æ˜¾ç¤º                  |
  | d        | æ˜¾ç¤ºä¸€ä¸ªæ•´æ•°å€¼                             |
  | i        | æ˜¾ç¤ºä¸€ä¸ªæ•´æ•°å€¼ï¼ˆè·Ÿdä¸€æ ·ï¼‰                  |
  | e        | ç”¨ç§‘å­¦è®¡æ•°æ³•æ˜¾ç¤ºä¸€ä¸ªæ•°                     |
  | f        | æ˜¾ç¤ºä¸€ä¸ªæµ®ç‚¹å€¼                             |
  | g        | ç”¨ç§‘å­¦è®¡æ•°æ³•æˆ–æµ®ç‚¹æ•°æ˜¾ç¤ºï¼ˆé€‰æ‹©è¾ƒçŸ­çš„æ ¼å¼ï¼‰ |
  | o        | æ˜¾ç¤ºä¸€ä¸ªå…«è¿›åˆ¶å€¼                           |
  | s        | æ˜¾ç¤ºä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²                         |
  | x        | æ˜¾ç¤ºä¸€ä¸ªåå…­è¿›åˆ¶å€¼                         |
  | X        | æ˜¾ç¤ºä¸€ä¸ªåå…­è¿›åˆ¶å€¼ï¼Œä½†ç”¨å¤§å†™å­—æ¯A~F        |
#+begin_example
$ gawk 'BEGIN{
> x = 10 * 100
> printf "The answer is: %e\n", x
> }'
The answer is: 1.000000e+03
$
#+end_example
é™¤äº†æ§åˆ¶å­—æ¯å¤–ï¼Œè¿˜æœ‰3ç§ä¿®é¥°ç¬¦å¯ä»¥ç”¨æ¥è¿›ä¸€æ­¥æ§åˆ¶è¾“å‡ºã€‚
- width
  æŒ‡å®šäº†è¾“å‡ºå­—æ®µæœ€å°å®½åº¦çš„æ•°å­—å€¼ã€‚å¦‚æœè¾“å‡ºçŸ­äºè¿™ä¸ªå€¼ï¼Œprintfä¼šå°†æ–‡æœ¬å³
  å¯¹é½ï¼Œå¹¶ç”¨ç©ºæ ¼è¿›è¡Œå¡«å……ã€‚å¦‚æœè¾“å‡ºæ¯”æŒ‡å®šçš„å®½åº¦è¿˜è¦é•¿ï¼Œåˆ™æŒ‰ç…§å®é™…çš„é•¿åº¦è¾“å‡ºã€‚
- prec
  è¿™æ˜¯ä¸€ä¸ªæ•°å­—å€¼ï¼ŒæŒ‡å®šäº†æµ®ç‚¹æ•°ä¸­å°æ•°ç‚¹åé¢ä½æ•°ï¼Œæˆ–è€…æ–‡æœ¬å­—ç¬¦ä¸²ä¸­æ˜¾ç¤ºçš„æœ€
  å¤§å­—ç¬¦æ•°ã€‚
- -ï¼ˆå‡å·ï¼‰
  æŒ‡æ˜åœ¨å‘æ ¼å¼åŒ–ç©ºé—´ä¸­æ”¾å…¥æ•°æ®æ—¶é‡‡ç”¨å·¦å¯¹é½è€Œä¸æ˜¯å³å¯¹é½ã€‚
#+begin_example e
$ gawk 'BEGIN{FS="\n"; RS=""} {printf "%16s %s\n",$1,$4}' data.txt
  Riley Mullen (312)555-1234
Frank Williams (317)555-9876
   Haley Snell (313)555-4938
$
%s\n", $1, $4}' data2
#+end_example
å…¶ä¸­çš„16å°±è¡¨ç¤ºç¬¬ä¸€ä¸ªè¾“å‡ºçš„å­—æ®µçš„å®½åº¦ä¸º16,ä»è¾“å‡ºä¸­ä¹Ÿä¸éš¾çœ‹å‡º,ç¬¬ä¸€è¡Œå’Œç¬¬ä¸‰è¡Œçš„è¾“å‡º
ç”±äºç¬¬ä¸€ä¸ªå­—æ®µçš„å­—ç¬¦ä¸æ»¡16ä¸ªåˆ™ä¼šç”¨ç©ºæ ¼è¡¥é½
è€Œè¿™æ ·ä¸å¤Ÿç¾è§‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å®ƒçš„å¯¹é½æ–¹å¼
#+begin_example e
$ gawk 'BEGIN{FS="\n"; RS=""} {printf "%-16s %s\n",$1,$4}' data.txt
Riley Mullen (312)555-1234
Frank Williams (317)555-9876
Haley Snell (313)555-4938
$
%s\n", $1, $4}' data2
#+end_example
**** å†…ç½®å‡½æ•°
***** æ•°å­¦å‡½æ•°
| å‡½æ•°        | æè¿°                          |
|-------------+-------------------------------|
| atan2(x, y) | x/yçš„åæ­£åˆ‡ï¼Œxå’Œyä»¥å¼§åº¦ä¸ºå•ä½ |
| cos(x)      | xçš„ä½™å¼¦ï¼Œxä»¥å¼§åº¦ä¸ºå•ä½        |
| exp(x)      | xçš„æŒ‡æ•°å‡½æ•°                   |
| int(x)      | xçš„æ•´æ•°éƒ¨åˆ†ï¼Œå–é è¿‘é›¶ä¸€ä¾§çš„å€¼ |
| log(x)      | xçš„è‡ªç„¶å¯¹æ•°                   |
| rand( )     | æ¯”0å¤§æ¯”1å°çš„éšæœºæµ®ç‚¹å€¼        |
| sin(x)      | xçš„æ­£å¼¦ï¼Œxä»¥å¼§åº¦ä¸ºå•ä½        |
| sqrt(x)     | xçš„å¹³æ–¹æ ¹                     |
| srand(x)    | ä¸ºè®¡ç®—éšæœºæ•°æŒ‡å®šä¸€ä¸ªç§å­å€¼    |
***** æŒ‰ä½æ“ä½œæ•°æ®çš„å‡½æ•°
| å‡½æ•°               | æè¿°                         |
|--------------------+------------------------------|
| and(v1, v2)        | æ‰§è¡Œå€¼v1å’Œv2çš„æŒ‰ä½ä¸è¿ç®—ã€‚   |
| compl(val)         | æ‰§è¡Œvalçš„è¡¥è¿ç®—ã€‚            |
| lshift(val, count) | å°†å€¼valå·¦ç§»countä½ã€‚         |
| or(v1, v2)         | æ‰§è¡Œå€¼v1å’Œv2çš„æŒ‰ä½æˆ–è¿ç®—ã€‚   |
| rshift(val, count) | å°†å€¼valå³ç§»countä½ã€‚         |
| xor(v1, v2)        | æ‰§è¡Œå€¼v1å’Œv2çš„æŒ‰ä½å¼‚æˆ–è¿ç®—ã€‚ |
***** å­—ç¬¦ä¸²å‡½æ•°
| å‡½æ•°                      | æè¿°                                                                                                  |
|---------------------------+-------------------------------------------------------------------------------------------------------|
| asort(s [,d])             | å°†æ•°ç»„sæŒ‰æ•°æ®å…ƒç´ å€¼æ’åºã€‚ç´¢å¼•å€¼ä¼šè¢«æ›¿æ¢æˆè¡¨ç¤ºæ–°çš„æ’åºé¡ºåºçš„è¿ç»­æ•°å­—ã€‚                                 |
|                           | å¦å¤–ï¼Œå¦‚æœæŒ‡å®šäº†dï¼Œåˆ™æ’åºåçš„æ•°ç»„ä¼šå­˜å‚¨åœ¨æ•°ç»„dä¸­                                                      |
| asorti(s [,d])            | å°†æ•°ç»„sæŒ‰ç´¢å¼•å€¼æ’åºã€‚ç”Ÿæˆçš„æ•°ç»„ä¼šå°†ç´¢å¼•å€¼ä½œä¸ºæ•°æ®å…ƒç´ å€¼ï¼Œ                                             |
|                           | ç”¨è¿ç»­æ•°å­—ç´¢å¼•æ¥è¡¨æ˜æ’åºé¡ºåºã€‚å¦å¤–å¦‚æœæŒ‡å®šäº†dï¼Œæ’åºåçš„æ•°ç»„ä¼šå­˜å‚¨åœ¨æ•°ç»„dä¸­                            |
| gensub(r, s, h [, t])     | æŸ¥æ‰¾å˜é‡$0æˆ–ç›®æ ‡å­—ç¬¦ä¸²tï¼ˆå¦‚æœæä¾›äº†çš„è¯ï¼‰æ¥åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼rã€‚                                          |
|                           | å¦‚æœhæ˜¯ä¸€ä¸ªä»¥gæˆ–Gå¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œå°±ç”¨sæ›¿æ¢æ‰åŒ¹é…çš„æ–‡æœ¬ã€‚å¦‚æœhæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå®ƒè¡¨ç¤ºè¦æ›¿æ¢æ‰ç¬¬hå¤„råŒ¹é…çš„åœ°æ–¹ |
| gsub(r, s [,t])           | æŸ¥æ‰¾å˜é‡$0æˆ–ç›®æ ‡å­—ç¬¦ä¸²tï¼ˆå¦‚æœæä¾›äº†çš„è¯ï¼‰æ¥åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼rã€‚å¦‚æœæ‰¾åˆ°äº†ï¼Œå°±å…¨éƒ¨æ›¿æ¢æˆå­—ç¬¦ä¸²s           |
| index(s, t)               | è¿”å›å­—ç¬¦ä¸²tåœ¨å­—ç¬¦ä¸²sä¸­çš„ç´¢å¼•å€¼ï¼Œå¦‚æœæ²¡æ‰¾åˆ°çš„è¯è¿”å›0                                                   |
| length([s])               | è¿”å›å­—ç¬¦ä¸²sçš„é•¿åº¦ï¼›å¦‚æœæ²¡æœ‰æŒ‡å®šçš„è¯ï¼Œè¿”å›$0çš„é•¿åº¦                                                     |
| match(s, r [,a])          | è¿”å›å­—ç¬¦ä¸²sä¸­æ­£åˆ™è¡¨è¾¾å¼rå‡ºç°ä½ç½®çš„ç´¢å¼•ã€‚å¦‚æœæŒ‡å®šäº†æ•°ç»„aï¼Œå®ƒä¼šå­˜å‚¨sä¸­åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„é‚£éƒ¨åˆ†            |
| split(s, a [,r])          | å°†sç”¨FSå­—ç¬¦æˆ–æ­£åˆ™è¡¨è¾¾å¼rï¼ˆå¦‚æœæŒ‡å®šäº†çš„è¯ï¼‰åˆ†å¼€æ”¾åˆ°æ•°ç»„aä¸­ã€‚è¿”å›å­—æ®µçš„æ€»æ•°                             |
| sprintf(format,variables) | ç”¨æä¾›çš„formatå’Œvariablesè¿”å›ä¸€ä¸ªç±»ä¼¼äºprintfè¾“å‡ºçš„å­—ç¬¦ä¸²                                             |
| sub(r, s [,t])            | åœ¨å˜é‡$0æˆ–ç›®æ ‡å­—ç¬¦ä¸²tä¸­æŸ¥æ‰¾æ­£åˆ™è¡¨è¾¾å¼rçš„åŒ¹é…ã€‚å¦‚æœæ‰¾åˆ°äº†ï¼Œå°±ç”¨å­—ç¬¦ä¸²sæ›¿æ¢æ‰ç¬¬ä¸€å¤„åŒ¹é…                 |
| substr(s, i [,n])         | è¿”å›sä¸­ä»ç´¢å¼•å€¼iå¼€å§‹çš„nä¸ªå­—ç¬¦ç»„æˆçš„å­å­—ç¬¦ä¸²ã€‚å¦‚æœæœªæä¾›nï¼Œåˆ™è¿”å›så‰©ä¸‹çš„éƒ¨åˆ†                           |
| tolower(s)                | å°†sä¸­çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢æˆå°å†™                                                                             |
| toupper(s)                | å°†sä¸­çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢æˆå¤§å†™                                                                             |
***** æ—¶é—´å‡½æ•°
| å‡½æ•°                         | æè¿°                                                                                       |
|------------------------------+--------------------------------------------------------------------------------------------|
| mktime(datespec)             | å°†ä¸€ä¸ªæŒ‰YYYY MM DD HH MM SS [DST]æ ¼å¼æŒ‡å®šçš„æ—¥æœŸè½¬æ¢æˆæ—¶é—´æˆ³å€¼â‘                             |
| strftime(format[,timestamp]) | å°†å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³æˆ–timestampï¼ˆå¦‚æœæä¾›äº†çš„è¯ï¼‰è½¬åŒ–æ ¼å¼åŒ–æ—¥æœŸï¼ˆé‡‡ç”¨shellå‡½æ•°date()çš„æ ¼å¼ï¼‰ |
| systime( )                   | è¿”å›å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³                                                                       |
**** è‡ªå®šä¹‰å‡½æ•°
- å®šä¹‰å‡½æ•°
  æ ¼å¼:
  #+begin_example fun
  function name([variables])
{
statements
[return value]
}
  #+end_example
- ä½¿ç”¨å‡½æ•°
  ä½¿ç”¨å‡½æ•°çš„æ–¹å¼ä¸ä½¿ç”¨å†…ç½®å‡½æ•°çš„æ–¹å¼å¹¶æ— äº§åˆ«,åªä¸è¿‡æˆ‘ä»¬åœ¨ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°å‰éœ€è¦å…ˆè¿›è¡Œå®šä¹‰
  #+begin_example funexp
$ gawk '
> function myprint()
> {
>   printf "%-16s - %s\n", $1, $4
> }
> BEGIN{FS="\n"; RS=""}
> {
>
myprint()
> }' data2
Riley Mullen
- (312)555-1234
Frank Williams
- (317)555-9876
Haley Snell
- (313)555-4938
$
  #+end_example
-åˆ›å»ºå‡½æ•°åº“
  ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·å‡½æ•°åº“è¯´åˆ°åº•å°±æ˜¯ä¸ªæ–‡ä»¶,æ‰€ä»¥æˆ‘ä»¬è‹¥æƒ³å†™ä¸€ä¸ªå‡½æ•°åº“å¹¶è°ƒç”¨å®ƒ,
  åªéœ€è¦åœ¨æ‰§è¡Œgawkå‘½ä»¤æ—¶åƒå¼•è¿›æ–‡ä»¶ä¸€æ ·å¼•è¿›å‡½æ•°åº“å³å¯
  ä¾‹å¦‚:gawk -f å‡½æ•°åº“ -f gawkå‘½ä»¤æ–‡ä»¶  data.txt
** DONE RegExp
CLOSED: [2022-11-27 æ—¥ 15:51]
:PROPERTIES:
:EXPORT_FILE_NAME: regexp
:END:
:LOGBOOK:
- State "DONE"       from "TODO"       [2022-11-27 æ—¥ 15:51]
:END:
*** åŒ¹é…å•ä¸ªå­—ç¬¦
**** .ç¬¦å·
  '.'ç¬¦å·å«ä¹‰ä¸ºåŒ¹é…ä»»æ„å­—ç¬¦,åŒ…æ‹¬å…¶æœ¬èº«
**** \ç¬¦å·
  '\'ç¬¦å·ä¸ºè½¬ä¹‰å­—ç¬¦,èƒ½å¤Ÿä¸ç‰¹å®šå­—ç¬¦ç»„åˆäº§ç”Ÿç‰¹æ®Šå«ä¹‰
  æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦éƒ½å¯ä»¥ä½¿ç”¨'\'è¡¨ç¤ºå…¶æœ¬èº«çš„æ„æ€
  ä¾‹å¦‚'.'ç¬¦å·åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­è¡¨åŒ¹é…ä»»ä¸€å­—ç¬¦,ä½†è‹¥æƒ³è¡¨ç¤º'.'æœ¬èº«è¿™æ˜¯å°±èƒ½ä½¿ç”¨'\.'è¿›è¡Œè½¬ä¹‰äº†
  åŒ…æ‹¬'\'æœ¬èº«ä¹Ÿæ˜¯ä¸€æ ·,è‹¥æƒ³è¡¨ç¤º'\'æœ¬èº«åˆ™éœ€ä½¿ç”¨'\\'
  | ç»„åˆ | æè¿°        |
  |------+-------------|
  | \\   | è¡¨ç¤º'\'æœ¬èº« |
  | \.   | è¡¨ç¤º'.'æœ¬èº« |
  | \n   | è¡¨æ¢è¡Œç¬¦    |
  | \t   | è¡¨ç¤ºåˆ¶è¡¨ç¬¦  |
*** åŒ¹é…ä¸€ç»„å­—ç¬¦
**** [å­—ç¬¦é›†åˆ]ä½¿ç”¨
  [å­—ç¬¦é›†åˆ]ä¸­é€šå¸¸åŒ…å«çš„æ˜¯æŸäº›å­—ç¬¦çš„é›†åˆ,å…¶å«ä¹‰ä¸ºåŒ¹é…è¿™äº›å­—ç¬¦çš„å…¶ä¸­ä¸€ä¸ª
  ä¾‹å¦‚:
  '[abc]\.txt'
  å…¶åŒ¹é…ç»“æœå¯ä»¥æ˜¯
  a.txtæˆ–b.txtæˆ–c.txt
**** [åŒºé—´]ä½¿ç”¨
  å½“æˆ‘ä»¬æƒ³åŒ¹é…å­—æ¯æˆ–æ•°å­—æ—¶,è‹¥ä½¿ç”¨[å­—ç¬¦é›†åˆ]çš„è¡¨ç¤ºæ–¹å¼å°±æˆäº†[abc...xyz]
  è¿™æ ·ä¹¦å†™å¤ªè¿‡éº»çƒ¦,å› æ­¤æ­£åˆ™è¡¨è¾¾å¼æä¾›äº†ä¸€ç§åŒºé—´è¡¨ç¤ºæ–¹å¼,å®ƒèƒ½ä½¿ç”¨ASCIIç çš„å€¼æ¥è¡¨ç¤ºåŒºé—´
  [a-z]ä¸[abc...xyz]ç­‰ä»·
  [0-9]ä¸[0123456789]ç­‰ä»·
  æ³¨æ„:åŒºé—´å¯ä»¥æ˜¯ä»»æ„ASCIIç ä»å°åˆ°å¤§çš„åŒºé—´
  ä¾‹å¦‚:[3-7],[c-f],[F-H]æ˜¯åˆæ³•
  å¹¶ä¸”ç”±äºæ’åºæ˜¯æŒ‰ASCIIç æ’åºçš„æ‰€ä»¥
  [1-Z],[1-=]ä¹Ÿæ˜¯åˆæ³•çš„
  å› ä¸º'1'çš„ASCIIç å€¼ä¸º49,è€Œ'Z'å’Œ'='çš„ASCIIç å€¼åˆ†åˆ«ä¸º61,90,ä¸¤è€…çš„ASCIIçš„å€¼éƒ½æ¯”'1'çš„ASCIIç å€¼å¤§,å› æ­¤æ˜¯åˆæ³•çš„
  ä½†é€šå¸¸æ¥è¯´è¿™æ ·çš„è¡¨è¾¾å¼ä¹Ÿä¸ä¼šæ€ä¹ˆå‡ºç°,ä½¿ç”¨æœ€å¤šçš„è¿˜æ˜¯[0-9],[a-z],[A-Z]åˆ†åˆ«è¡¨ç¤ºæ•°å­—,æ‰€æœ‰å°å†™å­—æ¯å’Œæ‰€ä»¥å¤§å†™å­—æ¯
  åŒæ—¶[åŒºé—´]ä¹Ÿèƒ½åŒæ—¶æŒ‡å®šå¤šä¸ªåŒºé—´
  ä¾‹å¦‚[0-9a-zA-Z]è¡¨ç¤ºæ‰€ä»¥æ•°å­—å’Œå­—æ¯
**** ^å–åå­—ç¬¦
'^'å­—ç¬¦å¯é…åˆä¸­æ‹¬å·[]ä½¿ç”¨,è¡¨ç¤ºåŒ¹é…ä¸å†é›†åˆä¸­çš„å­—ç¬¦
ä¾‹å¦‚[^0-9]è¡¨ç¤ºåŒ¹é…ä¸æ˜¯æ•°å­—çš„å­—ç¬¦
*** ä½¿ç”¨å…ƒå­—ç¬¦
åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä¸€ä¸ªå­—ç¬¦çš„å«ä¹‰ä¸èƒ½è¡¨ç¤ºå®ƒæœ¬èº«çš„å­—ç¬¦å°±ç§°ä¸ºå…ƒå­—ç¬¦,
å‰é¢æ‰€å­¦çš„'.'è¡¨ä»»æ„å­—ç¬¦,'['å’Œ']'ä¹Ÿéƒ½æ˜¯å…ƒå­—ç¬¦,åˆ†åˆ«è¡¨ç¤ºå­—ç¬¦é›†åˆå¼€å§‹å’Œç»“æŸ
å®ƒä»¬éƒ½æ²¡æœ‰è¡¨ç¤ºå­—ç¬¦æœ¬èº«å«ä¹‰çš„èƒ½åŠ›,è¦æƒ³è¡¨ç¤ºå…¶æœ¬èº«å°±éœ€è¦ç”¨å‰é¢å­¦çš„'\'å­—ç¬¦è¿›è¡Œè½¬ä¹‰
**** åŒ¹é…ç©ºç™½å­—ç¬¦
| å…ƒå­—ç¬¦ | æè¿°                              |
|--------+-----------------------------------|
| [\b]   | å›é€€(å¹¶åˆ é™¤)ä¸€ä¸ªå­—ç¬¦(BackSpaceé”®) |
| \f     | åˆ†é¡µç¬¦                            |
| \r     | å›è½¦ç¬¦                            |
| \n     | æ¢è¡Œç¬¦                            |
| \t     | åˆ¶è¡¨ç¬¦                            |
| \v     | å‚ç›´åˆ¶è¡¨ç¬¦                        |
**** åŒ¹é…ç‰¹å®šå­—ç¬¦
***** åŒ¹é…æ•°å­—
| å…ƒå­—ç¬¦ | æè¿°                     |
|--------+--------------------------|
| \d     | åŒ¹é…ä¸€ä¸ªæ•°å­—(ç­‰ä»·äº[0-9])  |
| \D     | åŒ¹é…ä¸€ä¸ªéæ•°å­—(ç­‰ä»·äº[^0-9])  |
***** åŒ¹é…æ•°å­—ä¸å­—æ¯
| å…ƒå­—ç¬¦ | æè¿°                                                  |
|--------+-------------------------------------------------------|
| \w     | åŒ¹é…ä¸€ä¸ªæ•°å­—æˆ–å­—æ¯æˆ–ä¸‹åˆ’çº¿çš„å­—ç¬¦(ç­‰ä»·äº[0-9a-zA-Z_])  |
| \W     | åŒ¹é…ä¸€ä¸ªéå­—æ¯,æ•°å­—,ä¸‹åˆ’çº¿çš„å­—ç¬¦(ç­‰ä»·äº[^0-9a-zA-Z_]) |
***** åŒ¹é…ç©ºç™½å­—ç¬¦
| å…ƒå­—ç¬¦ | æè¿°                                        |
|--------+---------------------------------------------|
| \s     | åŒ¹é…ä»»æ„ä¸€ä¸ªç©ºç™½å­—ç¬¦(ç­‰ä»·äº[\f\n\r\t\v])    |
| \S     | åŒ¹é…ä»»æ„ä¸€ä¸ªéç©ºç™½å­—ç¬¦(ç­‰ä»·äº[^\f\n\r\t\v]) |
**** POSIXå­—ç¬¦ç±»
| å­—ç¬¦ç±»     | æè¿°                                   |
|------------+----------------------------------------|
| [:alnum:]  | ç­‰ä»·äº[a-zA-Z0-9]                      |
| [:alpha:]  | ç­‰ä»·äº[a-zA-Z]                         |
| [:blankl:] | ç­‰ä»·äº[\t ]                            |
| [:cntrl:]  | åŒ¹é…ASCIIçš„æ§åˆ¶ç¬¦(0-31åŠ ä¸Š127)         |
| [:digit:]  | ç­‰ä»·äº[0-9]                            |
| [:graph:]  | å’Œ[:print:]ä¸€æ ·,ä½†ä¸åŒ…æ‹¬ç©ºæ ¼           |
| [:low:]    | ç­‰ä»·äº[a-z]                            |
| [:print:]  | ä»»ä½•ä¸€ä¸ªå¯æ‰“å°çš„å­—ç¬¦                   |
| [:punct:]  | ä¸å±äº[:alnum:]å’Œ[:cntrl:]çš„å­—ç¬¦       |
| [:space:]  | ç­‰ä»·äº[\f\b\r\t\v ]                    |
| [:upper:]  | ç­‰ä»·äº[A-Z]                            |
| [:xdigit:] | ä»»ä½•ä¸€ä¸ª16è¿›åˆ¶çš„æ•°å­—,ç­‰ä»·äº[a-fA-f0-9] |
æ³¨æ„:ä¸Šè¿°POSIXå­—ç¬¦ç±»ä½¿ç”¨æ—¶è¦ä»¥'[ ['å¼€å¤´ä»¥']]'ç»“å°¾,å³ä½¿ç”¨åŒä¸­æ‹¬å·
#+begin_example example
æ­£ç¡®å†™æ³•
[[:alnum:]]
é”™è¯¯å†™æ³•
[:alnum:]
#+end_example
*** é‡å¤åŒ¹é…
å½“æˆ‘ä»¬æƒ³åŒ¹é…'aaaaa'æ—¶,æ­¤æ—¶æˆ‘ä»¬éœ€è¦å†™5ä¸ªa,å¦‚æœè¦åŒ¹é…æ›´å¤šçš„aåˆ™éœ€è¦å†™æ›´å¤š,è¿™æ ·æœªå…å¤ªè¿‡éº»çƒ¦
å› æ­¤æ­£åˆ™è¡¨è¾¾å¼æä¾›äº†é‡å¤åŒ¹é…çš„åŠæ³•
**** å¸¸ç”¨é‡å¤åŒ¹é…å­—ç¬¦
- åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦
  åœ¨å­—ç¬¦(æˆ–å­—ç¬¦é›†åˆ)ååŠ ä¸Š *+* ä½œä¸ºåç¼€å³å¯,
  ä¾‹å¦‚:[0-9]+ è¡¨ç¤ºåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—
- åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦
  ä½¿ç”¨'*'å­—ç¬¦,ç”¨æ³•ä¸'+'å­—ç¬¦ç›¸åŒ
- åŒ¹é…0ä¸ªæˆ–å¤š1ä¸ªå­—ç¬¦
  ä½¿ç”¨'?'å­—ç¬¦,ç”¨æ³•ä¸'+'å­—ç¬¦ç›¸åŒ
**** é‡å¤åŒ¹é…æ¬¡æ•°
ä¸Šé¢æ‰€è¯´çš„å…ƒå­—ç¬¦ä¾ç„¶æ²¡åŠæ³•è§£å†³æ ¹æœ¬é—®é¢˜,ä¾‹å¦‚æˆ‘ä»¬æŒ‡å®šå°±éœ€è¦å°†æŸä¸ªå­—ç¬¦åŒ¹é…10æ¬¡,
è¿™æ˜¯ä¸Šé¢çš„å­—ç¬¦å°±ä¸èƒ½å®ç°äº†,ä¸€æ¬¡æ­£åˆ™è¡¨è¾¾å¼æä¾›äº†å¯ä»¥æŒ‡å®šåŒ¹é…æ¬¡æ•°çš„å…ƒå­—ç¬¦
- ç²¾å‡†åŒ¹é…æ¬¡æ•°
  åœ¨å­—ç¬¦(æˆ–å­—ç¬¦é›†åˆ)ååŠ ä¸Š'{åŒ¹é…æ¬¡æ•°}'å³å¯å®ç°ç²¾å‡†çš„åŒ¹é…æ¬¡æ•°
  ä¾‹å¦‚:a{5} è¡¨ç¤ºåŒ¹é…5ä¸ªa
- ä¸ºåŒ¹é…æ¬¡æ•°è®¾ç½®åŒºé—´
  ä½¿ç”¨'{æœ€å°åŒ¹é…æ¬¡æ•°,æœ€å¤§åŒ¹é…æ¬¡æ•°}'
- è‡³å°‘é‡å¤å‡ æ¬¡
  {æœ€å°‘åŒ¹é…æ¬¡æ•°,}
  {3,}è¡¨ç¤ºæœ€å°‘é‡å¤3æ¬¡
**** é˜²æ­¢è¿‡åº¦åŒ¹é…
åœ¨HTMLä¸­è‹¥æˆ‘ä»¬éœ€è¦å¯¹ä¸€ä¸ªæ ‡ç­¾ä¸­çš„å†…å®¹è¿›è¡ŒåŒ¹é…,
ä¾‹å¦‚:åŒ¹é…ä»¥ä¸‹htmlä»£ç ä¸­ä¸¤ä¸ªpæ ‡ç­¾å†…å®¹
#+begin_src html
  fsdaf<p>aaaaa</p>
  fsdfds<p>bbbbb</p>fdsffd
#+end_src
è‹¥åˆ©ç”¨å‰é¢æ‰€å­¦çš„å†…å®¹æˆ‘ä»¬å¯ä»¥å†™å‡ºå¯¹åº”çš„æ­£åˆ™è¡¨è¾¾å¼
'<[pP]>.*</[pP]>'
ç„¶è€Œæ­¤æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å†…å®¹ä¸º
#+begin_example te
<p>aaaaa</p>
fsdfds<p>bbbbb</p>
#+end_example
æ˜¾ç„¶ä¸æˆ‘ä»¬é¢„æœŸç»“æœä¸ç¬¦,è¿™æ˜¯å› ä¸ºå‰é¢æ‰€å­¦çš„'+','*','{n, }'éƒ½å±äº'è´ªå©ªå‹'åŒ¹é…å­—ç¬¦,å³ä»–ä»¬ä¼šå°½å¯èƒ½åŒ¹é…å¤šçš„å­—ç¬¦,
è€Œæˆ‘ä»¬ç°åœ¨éœ€è¦è®©ä»–ä»¬åŒ¹é…åˆ°ä¸€ä¸ªå°±ç»“æŸ,è€Œä¸æ˜¯ä¸€ç›´åŒ¹é…åˆ°ç»“å°¾,æ­¤æ—¶å°±éœ€è¦ç”¨åˆ°'æƒ°æ€§å‹'åŒ¹é…å­—ç¬¦',å‰é¢åˆ—å‡ºçš„'è´ªå©ªå‹'åŒ¹é…å­—ç¬¦,éƒ½æœ‰å¯¹åº”çš„'æƒ°æ€§å‹'åŒ¹é…å­—ç¬¦çš„ç‰ˆæœ¬
| è´ªå©ªå‹å…ƒå­—ç¬¦ | æƒ°æ€§å‹å…ƒå­—ç¬¦ |
|--------------+--------------|
| *            | *?           |
| +            | +?           |
| {n, }        | {n, }?       |
*** ä½ç½®åŒ¹é…
**** å•è¯è¾¹ç•Œ
- é€‚ç”¨åœºæ™¯
  å½“æˆ‘ä»¬éœ€è¦ç²¾å‡†åŒ¹é…ä¸€ä¸ªå•è¯æ—¶å¯ä»¥ç”¨'\b'ä½œä¸ºå•è¯çš„è¾¹ç•Œ(å³å•è¯çš„å¼€å§‹å’Œç»“å°¾)åƒ'\bå•è¯\b'è¿™æ ·
- ä¾‹1
  ä½†æˆ‘ä»¬éœ€è¦åŒ¹é…å•è¯'cat'æ—¶,è€Œä¸å¸Œæœ›åŒ¹é…åˆ°'scatter'è¿™ç±»å«æœ‰'cat'å­—ä¸²çš„å•è¯
  æ­¤æ—¶å°±å¯ä»¥ç”¨'\bcat\b'
- æ³¨æ„
  '/b'å®ƒä¼šåŒ¹é…ä¸€ä¸ªèƒ½å¤Ÿæ„æˆå•è¯çš„å­—ç¬¦(æ•°å­—,å­—æ¯,ä¸‹åˆ’çº¿)å’Œä¸€ä¸ªä¸èƒ½æ„æˆå•è¯çš„ä½ç½®ä¹‹é—´
- ä¾‹2
  this cat scatter his food
  æ­¤æ—¶æ–‡æœ¬ä¸­'cat'çš„'c'å’Œ't'è¿™ä¸¤ä½ç½®æœ¬èº«æ˜¯ä¸ªå­—æ¯,æ‰€ä»¥å®ƒæ˜¯ä¸ªèƒ½æ„æˆå•è¯çš„ä½ç½®,
  è€Œ'c'çš„å‰é¢å’Œ't'çš„åé¢æ˜¯ä¸€ä¸ªç©ºæ ¼,å±äºä¸èƒ½æ„æˆå•è¯çš„ä½ç½®,æ‰€ä»¥è‹¥ä½¿ç”¨'\bcat\b'
  åˆ™'\b'çš„ä½ç½®åˆ†åˆ«ä¼šä½äº'cat'å’Œå…¶å‰é¢çš„ç©ºæ ¼ä¹‹é—´,å’Œ'cat'å’Œå…¶åé¢çš„ç©ºæ ¼ä¹‹é—´
- ä¾‹3
  this - nine-digit test
  è‹¥æ­¤æ—¶æˆ‘ä»¬æƒ³åŒ¹é…ä»¥ç©ºæ ¼ä½œä¸ºè¾¹ç•Œçš„'-'å­—ç¬¦,æ­¤æ—¶è‹¥ä½¿ç”¨'\b-\b'å®ƒå°†åŒ¹é…'nine-digit'ä¸­çš„'-'
  å› ä¸ºæ­¤æ—¶'nine-digit'ä¸­çš„'-',å…¶æœ¬èº«æ˜¯ä¸ªä¸èƒ½æ„æˆå•è¯çš„å­—ç¬¦,è€Œå…¶å‰ååˆéƒ½æ˜¯èƒ½å¤Ÿæ„æˆå•è¯çš„å­—ç¬¦'e'å’Œ'd'
  æ‰€ä»¥'\b-\b'ä¸­çš„'\b'å°†åˆ†åˆ«ä½äº'e'å’Œ'-'ä¹‹é—´å’Œ'-'å’Œ'd'ä¹‹é—´,
  è€Œå¯¹äºæ–‡æœ¬ä¸­å•ç‹¬çš„é‚£ä¸ª'-'ç”±äºå…¶æœ¬èº«æ˜¯ä¸ªä¸èƒ½æ„æˆå•è¯çš„å­—ç¬¦,è€Œå…¶å‰ååˆéƒ½æ˜¯ç©ºæ ¼(ä¸èƒ½å¤Ÿæ„æˆå•è¯çš„å­—ç¬¦)æ‰€ä»¥ä¸èƒ½åŒ¹é…
  é‚£ä¹ˆå¦‚ä½•åŒ¹é…åˆ°æ–‡æœ¬ä¸­çš„å•ä¸ª'-'å‘¢?
- \Bè¾¹ç•Œ
  å¯¹äºä¸Šé¢çš„ä¾‹å­,è‹¥æƒ³åŒ¹é…å•ä¸ª'-'åˆ™å¯ä»¥ä½¿ç”¨'\B'ä½œä¸ºå•è¯çš„è¾¹ç•Œ
  '\B'åŒ¹é…å‰åéƒ½ä¸æ˜¯ä¸€ä¸ªèƒ½å¤Ÿæˆå•è¯çš„ä½ç½®
**** å­—ç¬¦ä¸²è¾¹ç•Œ
- ^ç¬¦å·
  '^'è¡¨ç¤ºåŒ¹é…æ–‡æœ¬å¼€å¤´
- $ç¬¦å·
  '$'è¡¨ç¤ºåŒ¹é…æ–‡æœ¬ç»“å°¾
åœ¨æˆ‘ä»¬ä½¿ç”¨çš„åœ°æ–¹æœ€å¸¸ç”¨çš„å°±æ˜¯xmlæ–‡æ¡£æ ¡éªŒäº†
å› ä¸ºxmlæ–‡æ¡£é€šå¸¸ä»¥<?xml ... ?>å¼€å¤´æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒxmlæ–‡æ¡£æ˜¯å¦è§„èŒƒ
'^\s*<\?xml.*?\?>'ä½¿ç”¨è¯¥æ­£åˆ™è¡¨è¾¾å¼å³å¯å®ç°
å…¶ä¸­'^\s*'è¡¨ç¤ºå…è®¸æ–‡æ¡£å¼€å¤´æœ‰ç©ºæ ¼æ¢è¡Œç­‰ç©ºç™½å­—ç¬¦,å†è€…å°±æ˜¯æ³¨æ„è¦ä½¿ç”¨'æƒ°æ€§å‹'åŒ¹é…ç¬¦
å…¶æ¬¡æˆ‘ä»¬å¯ä»¥ç”¨äºæ£€éªŒhtmlæ–‡ä»¶çš„ç»“æŸæ ‡å¿—
ä½¿ç”¨'</[hH][tT][mM][lL]>\s*$'å³å¯
***** åˆ†è¡ŒåŒ¹é…æ¨¡å¼
ä¸Šè¿°çš„'^'å’Œ'$'ä¸ä»…å¯ä»¥åŒ¹é…æ–‡æ¡£å¼€å¤´å’Œç»“å°¾,åœ¨ç‰¹æ®Šå…ƒå­—ç¬¦çš„å¸®åŠ©ä¸‹å¯ä»¥ä½¿å…¶ä½œç”¨æ”¹å˜ä¸ºåŒ¹é…ä¸€è¡Œçš„å¼€å¤´å’Œç»“å°¾
è¿™ä¸ªå…ƒå­—ç¬¦å°±æ˜¯'(?m)',åœ¨æ­£åˆ™è¡¨è¾¾å¼çš„æœ€å‰é¢åŠ ä¸Šè¯¥å…ƒå­—ç¬¦,å°±ä¼šä½¿å¾—åŸæ¥æ­£åˆ™è¡¨è¾¾å¼å°†æ•´ç¯‡æ–‡æ¡£ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²
è€Œä½¿ç”¨è¯¥å…ƒå­—ç¬¦åä¼šå°†æ¯è¡Œä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ä»è€Œå®ç°ä¸Šè¿°æ•ˆæœ
ç¤ºä¾‹:æ£€æµ‹Cè¯­è¨€ä¸­çš„æ³¨é‡Š
'(?m)^\s*//.*$'å¯ä»¥å®ç°æ£€æµ‹Cè¯­è¨€æ³¨é‡Š
*** ä½¿ç”¨å­è¡¨è¾¾å¼
**** å­è¡¨è¾¾å¼
è®¾æƒ³æˆ‘ä»¬éœ€è¦ä½¿å¾—ä¸€ä¸ªå•è¯(ä¾‹å¦‚cat)å‡ºç°çš„æ¬¡æ•°,æ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨å­è¡¨è¾¾å¼'()'å³æ‹¬å·,å°†catæ‹¬èµ·æ¥å³(cat),ç„¶ååœ¨ä½¿ç”¨å‰é¢å­¦çš„é‡å¤åŒ¹é…å³å¯
ä¾‹å¦‚æˆ‘ä»¬å¸Œæœ›'cat'å‡ºç°10æ¬¡,é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨'(cat){10}'æ¥å®ç°
åŒæ—¶å­è¡¨è¾¾å¼ä¹Ÿæ”¯æŒ'|'æˆ–æ“ä½œç¬¦,
ä¾‹å¦‚æˆ‘ä»¬å¸Œæœ›'cat'æˆ–'dog'å‡ºç°10æ¬¡,é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨'(cat|dog){10}'æ¥å®ç°
**** å­è¡¨è¾¾å¼åµŒå¥—
å­è¡¨è¾¾å¼ä¹Ÿæ”¯æŒåµŒå¥—æ“ä½œ,è¿™é‡Œæ‹¿ä¸€ä¸ªipåœ°å€æ ¡éªŒä¸¾ä¾‹
(((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))\.){3}(((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5])))
*** å›æº¯åº”ç”¨
**** å›æº¯å¼•ç”¨åŒ¹é…
åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å­˜åœ¨ä¸€ä¸ªå…ƒå­—ç¬¦'\ç¼–å·'å¯ä»¥å¼•ç”¨å‰é¢å­è¡¨è¾¾å¼åŒ¹é…çš„å†…å®¹
å…¶ä¸­'\1'è¡¨ç¤ºå¼•ç”¨ç¬¬ä¸€ä¸ªå­è¡¨è¾¾å¼åŒ¹é…çš„å†…å®¹,'\2'è¡¨ç¤ºå¼•ç”¨ç¬¬äºŒä¸ªå­è¡¨è¾¾å¼åŒ¹é…çš„å†…å®¹,ä»¥æ­¤ç±»æ¨
ä¾‹å¦‚:åœ¨htmlä¸­æˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°divæ ‡ç­¾çš„å†…å®¹
<(div)>.*?</\1>
æ­¤è¡¨è¾¾å¼ä¸­'\1'å°±ä»£è¡¨ç¬¬ä¸€ä¸ªå­è¡¨è¾¾å¼åŒ¹é…çš„å†…å®¹,ç”±äºæ­¤è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­è¡¨è¾¾å¼ä¸º'(div)',
åŒ¹é…çš„æ˜¯'div'æ‰€ä»¥'\1'å¤„å…¶å®å°±ä»£è¡¨åŒ¹é…'div'
*** å‰åæŸ¥æ‰¾
åœ¨htmlä¸­æˆ‘ä»¬æœ‰æ—¶éœ€è¦è·å–ä¸€ä¸ªæ ‡ç­¾çš„å†…å®¹è€ŒåŒ…å«æ ‡ç­¾æœ¬èº«,æ‹¿divä¸¾ä¾‹æ¥è¯´
æˆ‘ä»¬éœ€è¦è·å–divæ ‡ç­¾ä¸­çš„å†…å®¹,ä½†å†…å®¹åˆä¸åŒ…å«divæ ‡ç­¾æœ¬èº«(å³<div>å’Œ</div>)
æ¢å¥è¯è¯´æˆ‘ä»¬éœ€è¦ç”¨divæ ‡ç­¾æ¥åŒ¹é…å†…å®¹,ä½†æˆ‘ä»¬åˆä¸å¸Œæœ›divæ ‡ç­¾å‡ºç°åœ¨åŒ¹é…ç»“æœä¸­
è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨å‰åæŸ¥æ‰¾
**** å‘å‰æŸ¥æ‰¾
å‘å‰æŸ¥æ‰¾ä¸€ä¸ªå¿…é¡»åŒ¹é…ä½†ä¸åœ¨è¿”å›ç»“æœä¸­çš„çš„æ¨¡å¼
å…¶ä½¿ç”¨æ–¹å¼ä¸ºä¸€ä¸ªå­è¡¨è¾¾å¼ä»¥'?='å¼€å¤´'
ä¾‹å¦‚:æˆ‘ä»¬å¸Œæœ›æå–ä¸€ä¸‹æ–‡æœ¬ä¸­urlåè®®
#+begin_example url
https://www.baidu.com
http://www.google.com
ftp://jfdslakjf
#+end_example
åˆ†æ:æ­¤æ—¶æˆ‘ä»¬åŒ¹é…':'å‰çš„æ–‡æœ¬,æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨':'æ¥åŒ¹é…æˆ‘ä»¬éœ€è¦çš„å†…å®¹,ä½†æˆ‘ä»¬åˆä¸å¸Œæœ›':'å‡ºç°åœ¨åŒ¹é…ç»“æœä¸­
æ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨å‘å‰æŸ¥æ‰¾
.+(?=:)
(?=:)å°±å¯ä»¥è¡¨ç¤ºç”¨':'åŒ¹é…ä½†':'åˆä¸åœ¨åŒ¹é…ç»“æœä¸­
**** å‘åæŸ¥æ‰¾
å‘åæŸ¥æ‰¾ä½¿ç”¨'?<=',ä½¿ç”¨æ–¹å¼ä¸å‘å‰æŸ¥æ‰¾ä¸€æ ·,ä½†æ•ˆæœç›¸å
**** å‘å‰å‘åç»“åˆæŸ¥æ‰¾
ä½¿ç”¨å‘å‰å‘åç»“åˆæŸ¥æ‰¾,å°±èƒ½å®ç°æœ¬ç« å‰é¢è¯´çš„æŸ¥æ‰¾divæ ‡ç­¾ä¸­çš„å†…å®¹
ä¾‹å¦‚:æŸ¥æ‰¾ä»¥ä¸‹æ–‡æœ¬divæ ‡ç­¾çš„å†…å®¹
#+begin_src html
    <html>
      <body>
        fsdfa
        <div>aaaaaaaaaa</div>
                <div>bbbbbbbbbbbb</div>
        <div>ccccccccccccccc</div>
        </body>
  </html>
#+end_src
è¡¨è¾¾å¼:(?<=<div>).*?(?=</div>)
åŒ¹é…ç»“æœ:
aaaaaaaaaa
bbbbbbbbbbbb
ccccccccccccccc
**** å‰åæŸ¥æ‰¾å–é
å–éå³æŸ¥æ‰¾ä¸ä¸ç»™å®šæ¨¡å¼åŒ¹é…çš„å†…å®¹,å‘å‰å‘åæŸ¥æ‰¾ä¸å…¶å–éçš„æ“ä½œç¬¦å¦‚ä¸‹
| æ“ä½œç¬¦ | è¯´æ˜           |
|--------+----------------|
| (?=)   | å‘å‰æŸ¥æ‰¾       |
| (?!)   | å‘å‰æŸ¥æ‰¾çš„å–é |
| (?<=)  | å‘åæŸ¥æ‰¾       |
| (?<!)    | å‘åæŸ¥æ‰¾å–é   |
ä¾‹å¦‚:æ‰¾å‡ºä¸ä¹‰'$'å¼€å¤´çš„æ•°å­—
#+begin_example upper
i paid $100 for 80 apple 50 orange
and 60 pear
i save $20  on this order
#+end_example
æ­¤æ—¶è‹¥æˆ‘ä»¬ä½¿ç”¨å‘åæŸ¥æ‰¾
\b(?<=\$)\d+\b
å°†åŒ¹é…100å’Œ20,å› ä¸ºæˆ‘ä»¬æŸ¥æ‰¾çš„æ˜¯ä»¥'$'å¼€å¤´çš„æ•°å­—
è€Œè‹¥ä½¿ç”¨å…¶å–åçš„ç‰ˆæœ¬
\b(?<!\$)\d+\b
å°†åŒ¹é…80,50å’Œ60
*** åµŒå…¥æ¡ä»¶
æ¡ä»¶è¡¨è¾¾å¼ç”¨'?'ç¬¦å·è¡¨ç¤º,è™½ç„¶å‰é¢å­¦è¿‡'?'è¡¨è¾¾å¼å¯ç”¨äºè¡¨ç¤ºå­—ç¬¦å‡ºç°0æ¬¡æˆ–1æ¬¡
ä½†è¿™å¹¶ä¸å½±å“ä½¿ç”¨,å› ä¸ºä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼çš„æƒ…å†µå°±ä¸¤ç§
1. åœ¨å›æº¯å¼•ç”¨ä¸­ä½¿ç”¨
2. åœ¨å‰ååŒ¹é…ä¸­ä½¿ç”¨
**** å›æº¯å¼•ç”¨æ¡ä»¶
åœ¨åŒ—ç¾çš„ç”µè¯å·ç ä¸­(123)456-7890,123-456-7890éƒ½æ˜¯æ­£ç¡®çš„
è€Œè‹¥æƒ³å®ç°åŒ¹é…è¿™ä¸ªç”µè¯å·ç çš„æ­£åˆ™è¡¨è¾¾å¼å°±å¯ä»¥ç”¨åˆ°å›æº¯æ¡ä»¶
è§£æ:æˆ‘æ¢¦å¯ä»¥å°†ä¸Šé¢ç”µè¯ç†è§£ä¸ºè‹¥å¼€å¤´å‡ºç°äº†'(',é‚£ä¹ˆç¬¬5ä¸ªå­—ç¬¦å°±å¿…é¡»åŒ¹é…ä¸€ä¸ª')'
è‹¥å¼€å¤´æ²¡æœ‰'('åˆ™ç”µè¯çš„ç¬¬4ä¸ªå­—ç¬¦åŒ¹é…'-'
å…¶ä½¿ç”¨æ–¹å¼ä¸º(?(backreference)true-regexp[|false-regexp])
å…¶ä¸­backreferenceä¸ºä¸€ä¸ªå›æº¯å¼•ç”¨,è€Œtrue-regexpåˆ™æ˜¯å½“å…¶å‰é¢çš„å›æº¯å¼•ç”¨å­˜åœ¨æ—¶æ‰ä¼šæ‰§è¡Œçš„è¡¨è¾¾å¼
è€Œä¸­æ‹¬å·ä¸­çš„å†…å®¹å¯æœ‰å¯æ— ,å®ƒè¡¨ç¤ºå¦‚æœå‰é¢å›æº¯å¼•ç”¨ä¸å­˜åœ¨æ˜¯æ‰§è¡Œçš„è¡¨è¾¾å¼
è¿™æ ·æˆ‘ä»¬å°±èƒ½è§£å†³ç”µè¯å·ç è¿™ä¸ªé—®é¢˜
(\()?\d{3}(?(\1)\)|-)\d{3}-\d{4}
**** å‰ååŒ¹é…æ¡ä»¶
æ ¼å¼:(?(å‰ååŒ¹é…æ¡ä»¶)true|false)
*** å¸¸ç”¨å…ƒå­—ç¬¦
[[~/music/img/regexp.png][å¸¸ç”¨å…ƒå­—ç¬¦]]
